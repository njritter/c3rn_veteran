View(Q29)
View(Q29)
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
Q29 <- raw_data_general(select(column = 'What.percentage.of.disability.are.you.rated..as.indicated.by.the.Veteran.s.Affairs..VA..')
View(Q29)
View(Q29)
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
Q29 <- raw_data_general(select(colnames(raw_data_general, do.NULL = TRUE, prefix = 'What.percentage.of.disability.are.you.rated..as.indicated.by.the.Veteran.s.Affairs..VA..')))
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
Q29 <- select(raw_data_general(colnames(do.NULL = TRUE, prefix = 'What.percentage.of.disability.are.you.rated..as.indicated.by.the.Veteran.s.Affairs..VA..')))
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
Q29 <- raw_data_general %>%
select(conditon = 'What.percentage.of.disability.are.you.rated..as.indicated.by.the.Veteran.s.Affairs..VA..')
library(tidyverse)
library(ggplot2)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
Q29 <- raw_data_general %>%
select(conditon = 'What.percentage.of.disability.are.you.rated..as.indicated.by.the.Veteran.s.Affairs..VA..')
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
Q29 <- raw_data_general %>%
select(conditon = 'What.percentage.of.disability.are.you.rated..as.indicated.by.the.Veteran.s.Affairs..VA..')
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
Q29 <- raw_data_general %>%
select(conditon = 'What.percentage.of.disability.are.you.rated..as.indicated.by.the.Veteran.s.Affairs..VA..')
row > 0
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
raw_data_general$What.percentage.of.disability.are.you.rated..as.is.indicated.by.the.Veteran.s.Affairs..VA..
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
Q29 < - % > %
raw_data_general$What.percentage.of.disability.are.you.rated..as.is.indicated.by.the.Veteran.s.Affairs..VA..
Q29
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
Q29 <- % > %
raw_data_general$What.percentage.of.disability.are.you.rated..as.is.indicated.by.the.Veteran.s.Affairs..VA..
Q29
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
Q29 <- %>%
raw_data_general$What.percentage.of.disability.are.you.rated..as.is.indicated.by.the.Veteran.s.Affairs..VA..
Q29
# Pull out all responses for Q29 (a choose all question), combine, and turn
# into a tidy data format for further processing
Q29 <- raw_data_general$What.percentage.of.disability.are.you.rated..as.is.indicated.by.the.Veteran.s.Affairs..VA..
Q29
inspect(Q29)
str(Q29)
setwd("C:/Users/DJR52/OneDrive/c3rn_veteran")
library(tidyverse)
library(ggplot2)
source("helper.R")
library(tidyverse)
library(ggplot2)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
# Just Question 45
# Pull information for only this question out of each survey
# - Rename columns
# - Drop first row (first row contained column names)
# - Add survey source as a variable
## General
prescriptions_general <-
raw_data_general %>%
select(prescription = "What.prescription.medications.are.you.currently.taking.for.the.health.conditions.and.symptoms.you.face.that.you.are.actively.trying.to.reduce.the.use.of.by.using.cannabis...Please.select.all.that.apply.",
X.227:X.249)
colnames(prescriptions_general) <- prescriptions_general[1, ]
prescriptions_general <- prescriptions_general[-1, ]
prescriptions_general <- prescriptions_general %>% mutate(source = 'general')
## Bask
prescriptions_bask <-
raw_data_bask %>%
select(prescriptions = "What.prescription.medications.are.you.currently.taking.for.the.health.conditions.and.symptoms.you.face.that.you.are.actively.trying.to.reduce.the.use.of.by.using.cannabis...Please.select.all.that.apply.",
X.227:X.249)
colnames(prescriptions_bask) <- prescriptions_bask[1, ]
prescriptions_bask <- prescriptions_bask[-1, ]
prescriptions_bask <- prescriptions_bask %>% mutate(source = 'bask')
## Botanist
prescriptions_botanist <-
raw_data_botanist %>%
select(prescriptions = "What.prescription.medications.are.you.currently.taking.for.the.health.conditions.and.symptoms.you.face.that.you.are.actively.trying.to.reduce.the.use.of.by.using.cannabis...Please.select.all.that.apply.",
X.227:X.249)
colnames(prescriptions_botanist) <- prescriptions_botanist[1, ]
prescriptions_botanist <- prescriptions_botanist[-1, ]
prescriptions_botanist <- prescriptions_botanist %>% mutate(source = 'botanist')
# Bind different source dataframes together and:
# - Drop Other column which contains open ended text response (deal with later)
# - Rename some columns to have shorter names
# - Convert to tidy data format for ploting
prescriptions_all <-
rbind(prescriptions_general, prescriptions_botanist, prescriptions_bask) %>%
select(-'Other (please specify)')
prescriptions_tidy <-
prescriptions_all %>%
gather(key = prescriptions, value = checked, 1:22) %>%
filter(checked >= 1)
# To save prescriptions_tidy as a .csv file, run code below
# write.csv(prescriptions_tidy, 'prescriptions_all_tidy.csv')
by_prescriptions <-
prescriptions_tidy %>%
group_by(prescriptions) %>%
summarize(count = n()) %>%
arrange(desc(count)) %>%
ungroup()
# write.csv(by_prescriptions, 'prescriptions_all.csv')
p_by_prescriptions <-
by_prescriptions %>%
ggplot(aes(x = reorder(prescriptions, count), y = count)) +
geom_bar(stat = 'identity') +
coord_flip() +
labs(x = 'prescriptions', y = 'Count')
p_by_prescriptions
# Save graph as PNG
ggsave(filename = 'Q45_Medications_Replaced_Cannabis.png', plot = p_by_prescriptions, device = 'png')
write.csv(by_prescriptions, 'prescriptions_all.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
# Pull out all responses for Q29 (quantity-text box responses), combine, and turn
# into a tidy data format for further processing
Q29 <- raw_data_general$What.percentage.of.disability.are.you.rated..as.is.indicated.by.the.Veteran.s.Affairs..VA..
Q29
data.frame(rownames = column(1), colnames = 0:100)
setwd("C:/Users/DJR52/OneDrive/c3rn_veteran")
library(tidyverse)
library(ggplot2)
source("helper.R")
```{r, message = FALSE}
library(tidyverse)
library(ggplot2)
source("helper.R")
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
Q33 <- "On.average..how.much.do.you.pay..in.US.dollars..for.your.medications.on.a.monthly.basis.out.of.pocket."
# Pull out all responses for Q33 (a single selection question) and combine
Q33_general <- get_single_selection(data = raw_data_general, q.name = Q33)
Q33_bask <- get_single_selection(data = raw_data_bask, q.name = Q33)
Q33_botanist <- get_single_selection(data = raw_data_botanist, q.name = Q33)
Q33_all <- rbind(Q33_general, Q33_bask, Q33_botanist)
write.csv(Q33_all, 'Q33_Spend_Medication.csv', row.names = FALSE)
ggsave(filename = 'Q33_Primary_Health_Condition_PNG.png', plot = p, device = 'png')
setwd("C:/Users/DJR52/OneDrive/c3rn_veteran")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
Q33 <- "On.average..how.much.do.you.pay..in.US.dollars..for.your.medications.on.a.monthly.basis.out.of.pocket."
# Pull out all responses for Q33 (a single selection question) and combine
Q33_general <- get_single_selection(data = raw_data_general, q.name = Q33)
Q33 <- "On.average..how.much.do.you.pay..in.US.dollars..for.your.medications.on.a.monthly.basis.out.of.pocket."
# Pull out all responses for Q33 (a single selection question) and combine
Q33_general <- get_single_selection(data = raw_data_general, q.name = Q33)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
Q33 <- "On.average..how.much.do.you.pay..in.US.dollars..for.your.medications.on.a.monthly.basis.out.of.pocket."
# Pull out all responses for Q33 (a single selection question) and combine
Q33_general <- get_single_selection(data = raw_data_general, q.name = Q33)
Q33_bask <- get_single_selection(data = raw_data_bask, q.name = Q33)
Q33_botanist <- get_single_selection(data = raw_data_botanist, q.name = Q33)
Q33_all <- rbind(Q33_general, Q33_bask, Q33_botanist)
?hist
Q33 <- "On.average..how.much.do.you.pay..in.US.dollars..for.your.medications.on.a.monthly.basis.out.of.pocket."
# Pull out all responses for Q33 (a single selection question) and combine
Q33_general <- get_single_selection(data = raw_data_general, q.name = Q33)
Q33_bask <- get_single_selection(data = raw_data_bask, q.name = Q33)
Q33_botanist <- get_single_selection(data = raw_data_botanist, q.name = Q33)
Q33_all <- rbind(Q33_general, Q33_bask, Q33_botanist)
View(Q33_all)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
Q33 <- "On.average..how.much.do.you.pay..in.US.dollars..for.your.medications.on.a.monthly.basis.out.of.pocket."
# Pull out all responses for Q33 (a single selection question) and combine
Q33_general <- get_single_selection(data = raw_data_general, q.name = Q33)
Q33_bask <- get_single_selection(data = raw_data_bask, q.name = Q33)
Q33_botanist <- get_single_selection(data = raw_data_botanist, q.name = Q33)
Q33_all <- rbind(Q33_general, Q33_bask, Q33_botanist)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks
histogram_object$counts
plot(histogram_object)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks[1, 2:8]
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks(200, 400, 600, 800, 1000, 1400)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(200, 400, 600, 800, 1000, 1400)
histogram_object$breaks
histogram_object$counts
plot(histogram_object)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(200, 400, 600, 800, 1000, 1400)
histogram_object$counts
plot(histogram_object)
View(Q33_botanist)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(100, 200, 300, 400, 500, 600)
histogram_object$counts
plot(histogram_object)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(25, 50, 75, 100, 125, 150)
histogram_object$counts
plot(histogram_object)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(0, 25, 50, 75, 100, 125, 150)
histogram_object$counts
plot(histogram_object)
ggsave(filename = 'Q33_Spend_Medication.png', plot = histog, device = 'png')
ggsave(filename = 'Q33_Spend_Medication.png', plot = histogram_object, device = 'png')
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(0, 25, 50, 75, 100, 125, > 150)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(0, 25, 50, 75, 100, 125, >150)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(0, 25, 50, 75, 100, 125, 150)
histogram_object$counts
plot(histogram_object)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(0, 25, 50, 75, 100, 125)
histogram_object$counts
plot(histogram_object)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(0, 0, 50, 100, 150)
histogram_object$counts
plot(histogram_object)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(0, 50, 100, 150)
histogram_object$counts
plot(histogram_object)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(0, 200, 400, 600, 800, 1000, 1200, 1400)
histogram_object$counts
plot(histogram_object)
View(raw_data_botanist)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
Q29 <- "What.percentage.of.disability.are.you.rated..as.is.indicated.by.the.Veteran.s.Affairs..VA.."
# Pull out all responses for Q29 (a single selection question) and combine
Q29_general <- get_single_selection(data = raw_data_general, q.name = Q29)
Q29_bask <- get_single_selection(data = raw_data_bask, q.name = Q29)
Q29_botanist <- get_single_selection(data = raw_data_botanist, q.name = Q29)
Q29_all <- rbind(Q29_general, Q29_bask, Q29_botanist)
histogram_object <- hist(as.numeric(Q29_all$response))
histogram_object$breaks
histogram_object$counts
plot(histogram_object)
setwd("C:/Users/DJR52/OneDrive/c3rn_veteran")
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
# Pull out all responses for Q45 (a choose all question), combine, and turn
# into a tidy data format for further processing
# Notes
# - Not including X.249 (Other) and X.248 (Have reduced use in past)
Q45 <- 'What.prescription.medications.are.you.currently.taking.for.the.health.conditions.and.symptoms.you.face.that.you.are.actively.trying.to.reduce.the.use.of.by.using.cannabis...Please.select.all.that.apply.'
Q45_final_response <- "X.247"
Q45_general <- get_choose_all(raw_data_general, q.name = Q45, f.response = Q45_final_response)
Q45_bask <- get_choose_all(raw_data_bask, q.name = Q45, f.response = Q45_final_response)
Q45_botanist <- get_choose_all(raw_data_botanist, q.name = Q45, f.response = Q45_final_response)
Q45_all <-
rbind(Q45_general, Q45_bask, Q45_botanist) %>%
tidy_choose_all()
number_of_people_who_submitted_response_to_Q45 <- length(unique(Q45_all$id))
Q45_all_reduce <-
Q45_all %>%
filter(chosen != "I donât take any medications") %>%
filter(chosen != "I'm not trying to reduce any medication use")
number_of_people_who_use_cannabis_to_reduce_prescription_use <-
length(unique(Q45_all_reduce$id))
for_plot <-
Q45_all_reduce %>%
group_by(chosen) %>%
summarize(count = n())
p <-
ggplot(for_plot, aes(x = reorder(chosen, count), y = count)) +
geom_bar(stat = 'identity') +
coord_flip()
p
histogram_object <- hist(as.numeric(Q45_all$response))
histogram_object <- hist(as.numeric(Q45_all$response))
for_plot <-
Q45_all_reduce %>%
group_by(chosen) %>%
summarize(count = n())
p <-
ggplot(for_plot, aes(x = reorder(chosen, count), y = count)) +
geom_bar(stat = 'identity') +
coord_flip()
p
# Pull out all responses for Q45 (a choose all question), combine, and turn
# into a tidy data format for further processing
# Notes
# - Not including X.249 (Other) and X.248 (Have reduced use in past)
Q45 <- 'What.prescription.medications.are.you.currently.taking.for.the.health.conditions.and.symptoms.you.face.that.you.are.actively.trying.to.reduce.the.use.of.by.using.cannabis...Please.select.all.that.apply.'
Q45_final_response <- "X.247"
Q45_general <- get_choose_all(raw_data_general, q.name = Q45, f.response = Q45_final_response)
Q45_bask <- get_choose_all(raw_data_bask, q.name = Q45, f.response = Q45_final_response)
Q45_botanist <- get_choose_all(raw_data_botanist, q.name = Q45, f.response = Q45_final_response)
Q45_all <-
rbind(Q45_general, Q45_bask, Q45_botanist) %>%
tidy_choose_all()
number_of_people_who_submitted_response_to_Q45 <- length(unique(Q45_all$id))
Q45_all_reduce <-
Q45_all %>%
filter(chosen != "I donât take any medications") %>%
filter(chosen != "I'm not trying to reduce any medication use")
number_of_people_who_use_cannabis_to_reduce_prescription_use <-
length(unique(Q45_all_reduce$id))
for_plot <-
Q45_all_reduce %>%
group_by(chosen) %>%
summarize(count = n())
p <-
ggplot(for_plot, aes(x = reorder(chosen, count), y = count)) +
geom_bar(stat = 'identity') +
coord_flip()
p
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
# Pull out all responses for Q45 (a choose all question), combine, and turn
# into a tidy data format for further processing
# Notes
# - Not including X.249 (Other) and X.248 (Have reduced use in past)
Q45 <- 'What.prescription.medications.are.you.currently.taking.for.the.health.conditions.and.symptoms.you.face.that.you.are.actively.trying.to.reduce.the.use.of.by.using.cannabis...Please.select.all.that.apply.'
Q45_final_response <- "X.247"
Q45_general <- get_choose_all(raw_data_general, q.name = Q45, f.response = Q45_final_response)
Q45_bask <- get_choose_all(raw_data_bask, q.name = Q45, f.response = Q45_final_response)
Q45_botanist <- get_choose_all(raw_data_botanist, q.name = Q45, f.response = Q45_final_response)
Q45_all <-
rbind(Q45_general, Q45_bask, Q45_botanist) %>%
tidy_choose_all()
number_of_people_who_submitted_response_to_Q45 <- length(unique(Q45_all$id))
Q45_all_reduce <-
Q45_all %>%
filter(chosen != "I donât take any medications") %>%
filter(chosen != "I'm not trying to reduce any medication use")
number_of_people_who_use_cannabis_to_reduce_prescription_use <-
length(unique(Q45_all_reduce$id))
for_plot <-
Q45_all_reduce %>%
group_by(chosen) %>%
summarize(count = n())
p <-
ggplot(for_plot, aes(x = reorder(chosen, count), y = count)) +
geom_bar(stat = 'identity') +
coord_flip()
p
# Pull out all responses for Q45 (a choose all question), combine, and turn
# into a tidy data format for further processing
# Notes
# - Not including X.249 (Other) and X.248 (Have reduced use in past)
Q45 <- 'What.prescription.medications.are.you.currently.taking.for.the.health.conditions.and.symptoms.you.face.that.you.are.actively.trying.to.reduce.the.use.of.by.using.cannabis...Please.select.all.that.apply.'
Q45_final_response <- "X.247"
Q45_general <- get_choose_all(raw_data_general, q.name = Q45, f.response = Q45_final_response)
Q45_bask <- get_choose_all(raw_data_bask, q.name = Q45, f.response = Q45_final_response)
Q45_botanist <- get_choose_all(raw_data_botanist, q.name = Q45, f.response = Q45_final_response)
Q45_all <-
rbind(Q45_general, Q45_bask, Q45_botanist) %>%
tidy_choose_all()
number_of_people_who_submitted_response_to_Q45 <- length(unique(Q45_all$id))
Q45_all_reduce <-
Q45_all %>%
filter(chosen != "I donâ€™t take any medications") %>%
filter(chosen != "I'm not trying to reduce any medication use")
number_of_people_who_use_cannabis_to_reduce_prescription_use <-
length(unique(Q45_all_reduce$id))
for_plot <-
Q45_all_reduce %>%
group_by(chosen) %>%
summarize(count = n())
p <-
ggplot(for_plot, aes(x = reorder(chosen, count), y = count)) +
geom_bar(stat = 'identity') +
coord_flip()
p
ggsave(filename = 'Q45_Prescriptions.png', plot = p, device = 'png')
View(Q45_all_reduce)
View(for_plot)
write.csv(for_plot, 'Q45_Prescriptions', row.names = FALSE)
write.csv(for_plot, 'Q45_Prescriptions.csv', row.names = FALSE)
ggsave(filename = 'Q45_Prescriptions.png', plot = p, device = 'png')
ggsave(p, file = "Q33_Spend_Medications_Hist.pdf")
ggsave(p, file = "Q33_Spend_Medications_Hist.png")
ggsave(histogram_object, file = "Q33_Spend_Medications_Hist.png")
ggsave (for_plot, file = "Q33_Spend_Medications_Hist.png")
ggsave (plot = , file = "Q33_Spend_Medications_Hist.png")
histogram_object <- hist(as.numeric(Q33_all$response))
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
Q33 <- "On.average..how.much.do.you.pay..in.US.dollars..for.your.medications.on.a.monthly.basis.out.of.pocket."
# Pull out all responses for Q33 (a single selection question) and combine
Q33_general <- get_single_selection(data = raw_data_general, q.name = Q33)
Q33_bask <- get_single_selection(data = raw_data_bask, q.name = Q33)
Q33_botanist <- get_single_selection(data = raw_data_botanist, q.name = Q33)
Q33_all <- rbind(Q33_general, Q33_bask, Q33_botanist)
histogram_object <- hist(as.numeric(Q33_all$response))
histogram_object$breaks = c(0, 200, 400, 600, 800, 1000, 1200, 1400)
histogram_object$counts
plot(histogram_object)
ggsave (plot = , file = "Q33_Spend_Medications_Hist.png")
ggsave (histogram_object , file = "Q33_Spend_Medications_Hist.png")
ggsave (plot(histogram_object)), file = "Q33_Spend_Medications_Hist.png")
ggsave (plot(histogram_object), file = "Q33_Spend_Medications_Hist.png")
ggsave (plot(histogram_object), file = "Q33_Spend_Medications_Hist.csv")
write.csv(Q33_all, 'Q6_Primary_Health_Condition.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
Q29 <- "What.percentage.of.disability.are.you.rated..as.is.indicated.by.the.Veteran.s.Affairs..VA.."
# Pull out all responses for Q29 (a single selection question) and combine
Q29_general <- get_single_selection(data = raw_data_general, q.name = Q29)
Q29_bask <- get_single_selection(data = raw_data_bask, q.name = Q29)
Q29_botanist <- get_single_selection(data = raw_data_botanist, q.name = Q29)
Q29_all <- rbind(Q29_general, Q29_bask, Q29_botanist)
histogram_object <- hist(as.numeric(Q29_all$response))
histogram_object$breaks
histogram_object$counts
plot(histogram_object)
ggsave(plot(histogram_object), file = .png)
ggsave(filename = 'Q29_Percentage_Medication.png', plot = p, device = 'png')
ggsave(plot(histogram_object), filename = 'Q29_Percentage_Medication.png', plot = p, device = 'png')
ggsave(plot(histogram_object), file = "Q29_Percentage_Disability.png")
write.csv(Q29_all, 'Q29_Percentage_Disability.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
# Read in raw data. These are the files downloaded from survey monkey saved as a .csv
raw_data_general <- read.csv("data/general_text.csv", stringsAsFactors = FALSE)
raw_data_botanist <- read.csv("data/botanist_text.csv", stringsAsFactors = FALSE)
raw_data_bask <- read.csv("data/bask_text.csv", stringsAsFactors = FALSE)
Q67 <- "Which.VA.do.you.go.to."
# Pull out all responses for Q67 (a single selection question) and combine
Q67_general <- get_single_selection(data = raw_data_general, q.name = Q67)
Q67_bask <- get_single_selection(data = raw_data_bask, q.name = Q67)
Q67_botanist <- get_single_selection(data = raw_data_botanist, q.name = Q67)
Q67_all <- rbind(Q67_general, Q67_bask, Q67_botanist)
histogram_object <- hist(as.numeric(Q67_all$response))
histogram_object$breaks
histogram_object$counts
plot(histogram_object)
View(Q67_all)
ggsave(plot(histogram_object), file = "Q67_VA_Location.png")
write.csv(Q67_all, 'Q67_VA_Location.csv', row.names = FALSE)
ggsave(Q67_all), file = "Q67_VA_Location.png")
ggsave(Q67_all), file = "Q67_VA_Location.png"
ggsave(Q67_all, file = "Q67_VA_Location.png")
