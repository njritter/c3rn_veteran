ylab("% Responded, Count") +
labs(title = "What state in the US do you currently live in?", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q98_state.png', plot = r, device = 'png')
write.csv(q_plot, 'q98_state_204.csv', row.names = FALSE)
write.csv(q_data, 'q98_state_ids.csv', row.names = FALSE)
q <- "I.would.choose.medical.cannabis.if.it.was.a.federally.legal.treatment.option."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "", subtitle = q_n)
r
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "I would choose medical cannabis if it was a federally-legal treatment option.", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q99_cannabis_if_legal.png', plot = r, device = 'png')
write.csv(q99_plot, 'q99_cannabis_if_legal_217.csv', row.names = FALSE)
write.csv(q99_all, 'q99_cannabis_if_legal_ids.csv', row.names = FALSE)
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q99_cannabis_if_legal.png', plot = r, device = 'png')
write.csv(q_plot, 'q99_cannabis_if_legal_217.csv', row.names = FALSE)
write.csv(q_data, 'q99_cannabis_if_legal_ids.csv', row.names = FALSE)
q <- "Do.you.think.the.VA.should.be.trained.in.medical.cannabis.and.allowed.to.recommend.it.for.veterans."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "Do you think the VA should be trained in medical cannabis and allowed to recommend it for veterans?", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q100_va_offer_cannabis.png', plot = r, device = 'png')
write.csv(q_plot, 'q100_va_offer_cannabis_217.csv', row.names = FALSE)
write.csv(q_data, 'q100_va_offer_cannabis_ids.csv', row.names = FALSE)
q <- "Do.you.support.conducting.more.research.for.medical.cannabis.in.veteran.populations."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q101_support_research.png', plot = r, device = 'png')
write.csv(q_plot, 'q101_support_research_217.csv', row.names = FALSE)
write.csv(q_data, 'q101_support_research_ids.csv', row.names = FALSE)
# Load libraries
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "Do.you.believe.the.VA.should.offer.free..or.discounted..medical.cannabis.to.veterans.who.qualify.for.its.use."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
q <- "Do.you.believe.the.VA.should.offerÃ‚.free..or.discounted..medical.cannabis.to.veterans.who.qualify.for.its.use."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "Do you believe the VA should offer free (or discounted) medical cannabis to veterans who qualify for its use?", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q102_vet_cannabis_discount.png', plot = r, device = 'png')
write.csv(q_plot, 'q102_vet_cannabis_discount_217.csv', row.names = FALSE)
write.csv(q_data, 'q102_vet_cannabis_discount_ids.csv', row.names = FALSE)
# Load libraries
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
# Pull out all responses for q5 (a choose all question), combine, turn into a tidy data format for further processing then d <- tidy_choose_all(q)etermine 'question n'
q <- 'Do.you.belong.to.any.of.the.following.veterans.support.organizations...Please.select.all.that.apply.'
q_final_response <- "X.395"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
# Pull out all responses for q5 (a choose all question), combine, turn into a tidy data format for further processing then d <- tidy_choose_all(q)etermine 'question n'
q <- 'Do.you.belong.to.any.of.the.following.veterans.support.organizations...Please.select.all.that.apply.'
q_final_response <- "X.395"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(chosen) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(chosen, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = , subtitle = q_n)
r
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(chosen, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "Do you belong to any of the following veterans support organizations? (Please select all that apply)", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q103_vet_support_groups.png', plot = r, device = 'png')
write.csv(q103_plot, 'q103_vet_support_groups_215.csv', row.names = FALSE)
write.csv(q103_all, 'q103_vet_support_groups_ids.csv', row.names = FALSE)
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q103_vet_support_groups.png', plot = r, device = 'png')
write.csv(q_plot, 'q103_vet_support_groups_215.csv', row.names = FALSE)
write.csv(q_data, 'q103_vet_support_groups_ids.csv', row.names = FALSE)
# Load libraries
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper0.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
# Pull out all responses for q5 (a choose all question), combine, turn into a tidy data format for further processing then d <- tidy_choose_all(q)etermine 'question n'
q <- 'Do.you.belong.to.any.of.the.following.veterans.support.organizations...Please.select.all.that.apply.'
q_final_response <- "X.395"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
# Pull out all responses for q5 (a choose all question), combine, turn into a tidy data format for further processing then d <- tidy_choose_all(q)etermine 'question n'
q <- 'Do.you.belong.to.any.of.the.following.veterans.support.organizations...Please.select.all.that.apply.'
q_final_response <- "X.395"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
# Load libraries
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
# Pull out all responses for q5 (a choose all question), combine, turn into a tidy data format for further processing then d <- tidy_choose_all(q)etermine 'question n'
q <- 'Do.you.belong.to.any.of.the.following.veterans.support.organizations...Please.select.all.that.apply.'
q_final_response <- "X.395"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(chosen) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(chosen, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "Do you belong to any of the following veterans support organizations? (Please select all that apply)", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q103_vet_support_groups.png', plot = r, device = 'png')
write.csv(q_plot, 'q103_vet_support_groups_215.csv', row.names = FALSE)
write.csv(q_data, 'q103_vet_support_groups_ids.csv', row.names = FALSE)
# Load libraries
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "Would.you.be.willing.to.let.your.anonymous.results.be.re.shared.with.other.researchers.to.use.in.future.data.analysis.and.publications."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q104_share_results.png', plot = r, device = 'png')
write.csv(q_plot, 'q104_share_results_217.csv', row.names = FALSE)
write.csv(q_data, 'q104_share_results_ids.csv', row.names = FALSE)
# Load libraries
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "Have.you.ever.been.diagnosed.with.Opioid.Use.Disorder..OUD.."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "Have you ever been diagnosed with Opioid Use Disorder (OUD)?", subtitle = q_n)
r
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "Have you ever been diagnosed with Opioid Use Disorder (OUD)?", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q23_diagnosed_oud.png', plot = r, device = 'png')
write.csv(q_plot, 'q23_diagnosed_oud_217.csv', row.names = FALSE)
write.csv(q_data, 'q23_diagnosed_oud_ids.csv', row.names = FALSE)
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q23_diagnosed_oud.png', plot = r, device = 'png')
write.csv(q_plot, 'q23_diagnosed_oud_217.csv', row.names = FALSE)
write.csv(q_data, 'q23_diagnosed_oud_ids.csv', row.names = FALSE)
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q23_opioid_use_disorder.png', plot = r, device = 'png')
write.csv(q_plot, 'q23_opioid_use_disorder_217.csv', row.names = FALSE)
write.csv(q_data, 'q23_opioid_use_disorder_ids.csv', row.names = FALSE)
q <- "What.types.of.treatments.are.you.currently.receiving.for.your.OUD."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "What types of treatments are you currently receiving for your OUD?", subtitle = q_n)
r
# Load libraries
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.types.of.treatments.are.you.currently.receiving.for.your.OUD."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "What types of treatments are you currently receiving for your OUD?", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q24_oud_treatment.png', plot = r, device = 'png')
write.csv(q_plot, 'q24_oud_treatment_5.csv', row.names = FALSE)
write.csv(q_data, 'q24_oud_treatment_ids.csv', row.names = FALSE)
q <- "Have.you.ever.been.tested.for.THC..marijuana..during.your.opioid.recovery.treatment."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "", subtitle = q_n)
r
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "Have you ever been tested for THC (marijuana) during your opioid recovery treatment?", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q25_thc_test_oud.png', plot = r, device = 'png')
write.csv(q_plot, 'q25_thc_test_oud_5.csv', row.names = FALSE)
write.csv(q_data, 'q25_thc_test_oud_ids.csv', row.names = FALSE)
# Load libraries
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
# Read in raw data from the Veterans surveys. These are the files downloaded from survey monkey saved as a .csv
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
# Pull out all responses for q5 (a choose all question), combine, turn into a tidy data format for further processing then d <- tidy_choose_all(q)etermine 'question n'
q <- 'Have.you.ever.taken.any.of.the.following.opioids...Please.select.all.that.apply.'
q_final_response <- "X.148"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(chosen) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(chosen, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "Have you ever taken any of the following opioids? (Please select all that apply)", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q26_opioids_taken.png', plot = r, device = 'png')
write.csv(q_plot, 'q26_opioids_taken_5.csv', row.names = FALSE)
write.csv(q_data, 'q26_opioids_taken_ids.csv', row.names = FALSE)
q <- "Do.you.worry.about.your.use.of.opioids."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "Do you worry about your use of opioids?", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q27_opioid_use_worry.png', plot = r, device = 'png')
write.csv(q_plot, 'q27_opioid_use_worry_5.csv', row.names = FALSE)
write.csv(q_data, 'q27_opioid_use_worry_ids.csv', row.names = FALSE)
# Load libraries
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "Do.you.find.it.difficult.to.stop.or.not.use.opioids."
q_data <- get_single_selection(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
# Manipulate data into a graphable format
q_plot <-
q_data %>%
group_by(response) %>%
summarize(count = n()) %>%
mutate(percent_responded = round(100*(count / q_n), 2)) %>%
arrange(desc(count))
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q28_opioid_cessation.png', plot = r, device = 'png')
write.csv(q28_plot, 'q28_opioid_cessation_5.csv', row.names = FALSE)
write.csv(q28_all, 'q28_opioid_cessation_ids.csv', row.names = FALSE)
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q28_opioid_cessation.png', plot = r, device = 'png')
write.csv(q_plot, 'q28_opioid_cessation_5.csv', row.names = FALSE)
write.csv(q_data, 'q28_opioid_cessation_ids.csv', row.names = FALSE)
# Plot with percents and response counts
r <-
ggplot(q_plot, aes(x = reorder(response, count), y = percent_responded)) +
geom_bar(stat = 'identity') +
coord_flip() +
geom_text(aes(label= paste(round(percent_responded, 0), count, sep = "%:"))) +
xlab("Response") +
ylab("% Responded, Count") +
labs(title = "Do you find it difficult to stop or not use opioids?", subtitle = q_n)
r
# Save graph as PNG, plot data as csv, and all question data including response IDs as csv (save question n and N at end of plot file as "_x.x")
ggsave(filename = 'q28_opioid_cessation.png', plot = r, device = 'png')
write.csv(q_plot, 'q28_opioid_cessation_5.csv', row.names = FALSE)
write.csv(q_data, 'q28_opioid_cessation_ids.csv', row.names = FALSE)
