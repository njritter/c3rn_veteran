write.csv(q_plot, 'q5_condition_333.csv', row.names = FALSE)
write.csv(qf_data, 'q5_condition_ids.csv', row.names = FALSE)
ggsave(filename = 'q5_condition.png', plot = r, device = 'png')
write.csv(q_plot, 'q5_condition_333.csv', row.names = FALSE)
write.csv(qf_all_data, 'q5_condition_ids.csv', row.names = FALSE)
q5 <- 'Which.of.the.following.symptoms.are.most.commonly.associated.with.your.primary.health.condition.or.underlying.health.conditions...Please.select.all.that.apply.'
q5_final_response <- "X.43"
t <- "Which of the following symptoms are most commonly associated with your primary health condition or underlying health conditions? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q5, f.response = q5_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
View(qf_data)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q5 <- 'Which.of.the.following.symptoms.are.most.commonly.associated.with.your.primary.health.condition.or.underlying.health.conditions...Please.select.all.that.apply.'
q5_final_response <- "X.43"
t <- "Which of the following symptoms are most commonly associated with your primary health condition or underlying health conditions? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q5, f.response = q5_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f(qf_data)
r <- plot_choose_all_f(q_plot)
r
View(qf_data)
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q7_symptoms.png', plot = r, device = 'png')
write.csv(q_plot, 'q7_symptoms_333.csv', row.names = FALSE)
write.csv(qf_data, 'q7_symptoms_ids.csv', row.names = FALSE)
ggsave(filename = 'q7_symptoms.png', plot = r, device = 'png')
write.csv(q_plot, 'q7_symptoms_333.csv', row.names = FALSE)
write.csv(qf_all_data, 'q7_symptoms_ids.csv', row.names = FALSE)
q <- 'What.types.of.prescription.medications.are.you.currently.taking.for.the.health.conditions.and.symptoms.you.face...Please.select.all.that.apply.'
q_final_response <- "X.136"
t <- "Which of the following health conditions do you face and or have been diagnosed with... Please select all that apply"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'What.types.of.prescription.medications.are.you.currently.taking.for.the.health.conditions.and.symptoms.you.face...Please.select.all.that.apply.'
q_final_response <- "X.136"
t <- "Which of the following health conditions do you face and or have been diagnosed with... Please select all that apply"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_all_data)
r <- plot_choose_all_f2(q_plot)
r
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q20_prescriptions.png', plot = r, device = 'png')
write.csv(q_plot, 'q20_prescriptions_333.csv', row.names = FALSE)
write.csv(qf_all_data, 'q20_prescriptions_ids.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'Under.what.circumstances.do.you.use.cannabis...Please.select.all.that.apply.'
q_final_response <- "X.153"
t <- "Under what circumstances do you use cannabis? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q37_cannabis_uses.png', plot = r, device = 'png')
write.csv(q_plot, 'q37_cannabis_uses_333.csv', row.names = FALSE)
write.csv(qf_all_data, 'q37_cannabis_uses_ids.csv', row.names = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
q_plot<- clean_single_select(q_data)
r <- plot_single_select(q_plot)
r
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'Which.health.conditions.do.you.find.cannabis.to.be.helpful.in.treating...Please.select.all.that.apply.'
q_final_response <- "X.179"
t <- "Which health conditions do you find cannabis to be helpful in treating? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q38_conditions_cannabis.png', plot = r, device = 'png')
write.csv(q_plot, 'q38_conditions_cannabis_333.csv', row.names = FALSE)
write.csv(qf_all_data, 'q38_conditions_cannabis_ids.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
q_plot<- clean_single_select(q_data)
r <- plot_single_select(q_plot)
r
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'What.symptoms.do.you.find.medical.cannabis.is.most.helpful.in.treating.alleviating...Please.select.all.that.apply.'
q_final_response <- "X.197"
t <- "What symptoms do you find medical cannabis is most helpful in treating/alleviating? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q40_symptoms_treated_cannabis.png', plot = r, device = 'png')
write.csv(q_plot, 'q40_symptoms_treated_cannabis_333.csv', row.names = FALSE)
write.csv(qf_all_data, 'q40_symptoms_treated_cannabis_ids.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'Have.you.experienced.any.side.effects.from.using.cannabis...Please.select.all.that.apply.'
q_final_response <- "X.226"
t <- "Have you experienced any side effects from using cannabis? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q44_cannabis_side_effects.png', plot = r, device = 'png')
write.csv(q_plot, 'q44_cannabis_side_effects_333.csv', row.names = FALSE)
write.csv(qf_all_data, 'q44_cannabis_side_effects_ids.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'What.prescription.medications.are.you.currently.taking.for.the.health.conditions.and.symptoms.you.face.that.you.are.actively.trying.to.reduce.the.use.of.by.using.cannabis...Please.select.all.that.apply.'
q_final_response <- "X.249"
t <- "What prescription medications are you currently taking for the health conditions and symptoms you face that you are actively trying to reduce the use of by using cannabis? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q45_meds_reduced_cannabis.png', plot = r, device = 'png')
write.csv(q_plot, 'q45_meds_reduced_cannabis_333.csv', row.names = FALSE)
write.csv(qf_data, 'q45_meds_reduced_cannabis_ids.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'How.do.you.prefer.to.use.cannabis...Please.select.all.that.apply.'
q_final_response <- "X.259"
t <- "How do you prefer to use cannabis? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q47_cannabis_methods.png', plot = r, device = 'png')
write.csv(q_plot, 'q47_cannabis_methods_333.csv', row.names = FALSE)
write.csv(qf_all_data, 'q47_cannabis_methods__ids.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'Do.you.face.any.of.the.following.barriers.for.you.to.consume.cannabis...Please.select.all.that.apply.'
q_final_response <- "X.279"
t <- "Do you face any of the following barriers for you to consume cannabis (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q61_barrers.png', plot = r, device = 'png')
write.csv(q_plot, 'q61_barrers_333.csv', row.names = FALSE)
write.csv(qf_data, 'q61_barrers_ids.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'Where.do.you.get.your.information.to.make.informed.decisions.about.cannabis.products...Please.select.all.that.apply.'
q_final_response <- "X.322"
t <- "Where do you get your information to make informed decisions about cannabis products? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q70_cannabis_info.png', plot = r, device = 'png')
write.csv(q_plot, 'q70_cannabis_info_305.csv', row.names = FALSE)
write.csv(qf_data, 'q70_cannabis_info_ids.csv', row.names = FALSE)
ggsave(filename = 'q70_cannabis_info.png', plot = r, device = 'png')
write.csv(q_plot, 'q70_cannabis_info_305.csv', row.names = FALSE)
write.csv(qf_all_data, 'q70_cannabis_info_ids.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'Which.apps.websites.do.you.use...Please.select.all.that.apply.'
q_final_response <- "X.332"
t <- "Which apps/websites do you use? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q71_websites_apps_used.png', plot = r, device = 'png')
write.csv(q_plot, 'q71_websites_apps_used_305.csv', row.names = FALSE)
write.csv(qf_all_data, 'q71_websites_apps_used_ids.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'Which.branch.of.the.armed.services.did.you.serve.in...Please.select.all.that.apply.'
q_final_response <- "X.339"
t <- "Which branch of the armed services did you serve in? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q75_service_branch.png', plot = r, device = 'png')
write.csv(q_plot, 'q75_service_branch_333.csv', row.names = FALSE)
write.csv(qf_all_data, 'q75_service_branch_ids.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'Where.were.you.deployed.stationed...Please.select.all.that.apply.'
q_final_response <- "X.365"
t <- "Where were you deployed/stationed? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q76_deployment_locations.png', plot = r, device = 'png')
write.csv(q_plot, 'q76_deployment_locations_333.csv', row.names = FALSE)
write.csv(qf_all_data, 'q76_deployment_locations_ids.csv', row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q <- "What.is.your.annual.household.income..in.US.dollars."
t <- "What is your annual household income (in US dollars)"
q_data <- get_single_selection_0(data = raw_data, q.name = q)
q_n <- length(unique(q_data$id))
qf_data <- q_data %>%
filter(response == "Less than $10,000" | response == "$10,000-$19,999" | response == "$20,000-$29,999" | response == "$30,000-$39,999" | response == "$40,000-$49,999" | response == "$50,000-$59,999")
q <- 'What.war.s..did.you.serve.in...Please.select.all.that.apply.'
q_final_response <- "X.373"
t <- "What war(s) did you serve in? (Please select all that apply)"
q_data <- get_choose_all(raw_data, q.name = q, f.response = q_final_response) %>%
tidy_choose_all()
q_n <- length(unique(q_data$id))
qf_all_data <-
qf_data %>%
inner_join(q_data, by = "id")
qf_n <- length(unique(qf_all_data$id))
qf_data <- qf_all_data[3] %>%
group_by(chosen) %>%
summarize(count=n()) %>%
mutate(percent_responded = round(100*(count / qf_n), 2)) %>%
arrange(desc(count))
q_plot <- clean_choose_all_f2(qf_data)
r <- plot_choose_all_f2(q_plot)
r
ggsave(filename = 'q77_wars_served.png', plot = r, device = 'png')
write.csv(q_plot, 'q77_wars_served_331.csv', row.names = FALSE)
write.csv(qf_all_data, 'q77_wars_served_ids.csv', row.names = FALSE)
