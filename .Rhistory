q40_plot2 <- rbind(row3, q40_plot)
names(q40_plot2) <- c("q40", q40_t, paste("n = ", q40_n))
dir.create("output/q40_top_website_app")
ggsave(filename = 'output/q40_top_website_app/q40_top_website_app.png', plot = r40, device = 'png')
write.csv(q40_plot2, paste0("output/q40_top_website_app/q40_top_website_app_", q40_n,".csv"), row.names=F)
write.csv(q40_data, 'output/q40_top_website_app/q40_top_website_app_ids.csv', row.names = FALSE)
q41 <- "What.features.are.missing.from.your.sources.of.information.that.you.would.like.to.see.included."
q41_t <- "What features are missing from your sources of information that you would like to see included?"
q41_data <- get_single_selection(data = raw_data_occp, q.name = q41)
q41_n <- length(unique(q41_data$id))
q41_plot <- clean_single_select(q41_data)
r41 <- plot_single_select(q41_plot, q41_t, q41_n)
r41
row3 <- colnames(q41_plot)
q41_plot2 <- rbind(row3, q41_plot)
names(q41_plot2) <- c("q41", q41_t, paste("n = ", q41_n))
dir.create("output/q41_missing_info_feature")
ggsave(filename = 'output/q41_missing_info_feature/q41_missing_info_feature.png', plot = r41, device = 'png')
write.csv(q41_plot2, paste0("output/q41_missing_info_feature/q41_missing_info_feature_", q41_n,".csv"), row.names=F)
q42 <- "How.important.is.it.to.you.that.the.cannabis.you.use.is.organically.grown.Â."
q42_t <- "How important is it to you that the cannabis you use is organically grown?"
q42_data <- get_single_selection(data = raw_data_occp, q.name = q42)
q42_n <- length(unique(q42_data$id))
q42_plot <- clean_single_select(q42_data)
r42 <- plot_single_select(q42_plot, q42_t, q42_n)
r42
row3 <- colnames(q42_plot)
q42_plot2 <- rbind(row3, q42_plot)
names(q42_plot2) <- c("q42", q42_t, paste("n = ", q42_n))
dir.create("output/q42_organic_importance")
ggsave(filename = 'output/q42_organic_importance/q42_organic_importance.png', plot = r42, device = 'png')
write.csv(q42_plot2, paste0("output/q42_organic_importance/q42_organic_importance_", q42_n,".csv"), row.names=F)
q43 <- "How.aware.are.you.about.how.cannabis.is.cultivated..organically.or.with.synthetic.nutrients..at.your.local.dispensary.cultivator.etc."
q43_t <- "How aware are you about how cannabis is cultivated organically or with synthetic nutrients at your local dispensary/cultivator etc.?"
q43_data <- get_single_selection(data = raw_data_occp, q.name = q43)
q43_n <- length(unique(q43_data$id))
q43_plot <- clean_single_select(q43_data)
r43 <- plot_single_select(q43_plot, q43_t, q43_n)
r43
row3 <- colnames(q43_plot)
q43_plot2 <- rbind(row3, q43_plot)
names(q43_plot2) <- c("q43", q43_t, paste("n = ", q43_n))
dir.create("output/q43_organic_awareness")
ggsave(filename = 'output/q43_organic_awareness/q43_organic_awareness.png', plot = r43, device = 'png')
write.csv(q43_plot2, paste0("output/q43_organic_awareness/q43_organic_awareness_", q43_n,".csv"), row.names=F)
q44 <- "How.important.to.you.are.consumer.reviews.in.determining.which.retail.establishment.or.dispensary.to.use."
q44_t <- "How important to you are consumer reviews in determining which retail establishments or dispensary to use?"
q44_data <- get_single_selection(data = raw_data_occp, q.name = q44)
q44_n <- length(unique(q44_data$id))
q44_plot <- clean_single_select(q44_data)
r44 <- plot_single_select(q44_plot, q44_t, q44_n)
r44
row3 <- colnames(q44_plot)
q44_plot2 <- rbind(row3, q44_plot)
names(q44_plot2) <- c("q44", q44_t, paste("n = ", q44_n))
dir.create("output/q44_consumer_review_importance")
ggsave(filename = 'output/q44_consumer_review_importance/q44_consumer_review_importance.png', plot = r44, device = 'png')
write.csv(q44_plot2, paste0("output/q44_consumer_review_importance/q44_consumer_review_importance_", q44_n,".csv"), row.names=F)
q45 <- "What.is.your.level.of.knowledge.related.to.cannabis.and.cannabinoid.profiles..i.e..how.knowledgeable.do.you.feel.about.cannabis."
q45_t <- "What is your level of knowledge related to cannabis and cannabinoid profiles, i.e. how knowledgeable do you feel about cannabis?"
q45_data <- get_single_selection(data = raw_data_occp, q.name = q45)
q45_n <- length(unique(q45_data$id))
q45_plot <- clean_single_select(q45_data)
r45 <- plot_single_select(q45_plot, q45_t, q45_n)
r45
row3 <- colnames(q45_plot)
q45_plot2 <- rbind(row3, q45_plot)
names(q45_plot2) <- c("q45", q45_t, paste("n = ", q45_n))
dir.create("output/q45_cannabis_knowledge_level")
ggsave(filename = 'output/q45_cannabis_knowledge_level/q45_cannabis_knowledge_level.png', plot = r45, device = 'png')
write.csv(q45_plot2, paste0("output/q45_cannabis_knowledge_level/q45_cannabis_knowledge_level_", q45_n,".csv"), row.names=F)
q46 <- "What.information.would.you.like.to.know.related.to.cannabis.to.help.you.make.a.decision.about.what.cannabis.products.to.use..Please.select.all.that.apply."
q46_final_response <- "X.186"
q46_t  <- "What information would you like to know related to cannabis to help you make a decision about what cannabis products to use? Please select all that apply."
q46_data <- get_choose_all(raw_data_occp, q.name = q46, f.response = q46_final_response) %>%
tidy_choose_all()
q46_n <- length(unique(q46_data$id))
q46_plot <- clean_choose_all(q46_data, q46_n)
r46 <- plot_choose_all(q46_plot, q46_t, q46_n)
r46
row3 <- colnames(q46_plot)
q46_plot2 <- rbind(row3, q46_plot)
names(q46_plot2) <- c("q46", q46_t, paste("n = ", q46_n))
dir.create("output/q46_cannabis_info_desired")
ggsave(filename = 'output/q46_cannabis_info_desired/q46_cannabis_info_desired.png', plot = r46, device = 'png')
write.csv(q46_plot2, paste0("output/q46_cannabis_info_desired/q46_cannabis_info_desired_", q46_n,".csv"), row.names=F)
write.csv(q46_data, 'output/q46_cannabis_info_desired/q46_cannabis_info_desired_ids.csv', row.names = FALSE)
q47 <- "Do.you.use.a.cannabis.delivery.service."
q47_t <- "Do you use a cannabis delivery service?"
q47_data <- get_single_selection(data = raw_data_occp, q.name = q47)
q47_n <- length(unique(q47_data$id))
q47_plot <- clean_single_select(q47_data)
r47 <- plot_single_select(q47_plot, q47_t, q47_n)
r47
row3 <- colnames(q47_plot)
q47_plot2 <- rbind(row3, q47_plot)
names(q47_plot2) <- c("q47", q47_t, paste("n = ", q47_n))
dir.create("output/q47_cannabis_delivery")
ggsave(filename = 'output/q47_cannabis_delivery/q47_cannabis_delivery.png', plot = r47, device = 'png')
write.csv(q47_plot2, paste0("output/q47_cannabis_delivery/q47_cannabis_delivery_", q47_n,".csv"), row.names=F)
q48 <- "What.are.your.general.thoughts.regarding.the.legalization.of.cannabis."
q48_t <- "What are your general thoughts regarding the legalization of cannabis?"
q48_data <- get_single_selection(data = raw_data_occp, q.name = q48)
q48_n <- length(unique(q48_data$id))
q48_plot <- clean_single_select(q48_data)
r48 <- plot_single_select(q48_plot, q48_t, q48_n)
r48
row3 <- colnames(q48_plot)
q48_plot2 <- rbind(row3, q48_plot)
names(q48_plot2) <- c("q48", q48_t, paste("n = ", q48_n))
dir.create("output/q48_legalization_thoughts")
ggsave(filename = 'output/q48_legalization_thoughts/q48_legalization_thoughts.png', plot = r48, device = 'png')
write.csv(q48_plot2, paste0("output/q48_legalization_thoughts/q48_legalization_thoughts_", q48_n,".csv"), row.names=F)
q49 <- "What.impact.do.you.think.legalization.will.have.on.youth.consumption.of.cannabis."
q49_t <- "What impact do you think legalization will have on youth consumption of cannabis?"
q49_data <- get_single_selection(data = raw_data_occp, q.name = q49)
q49_n <- length(unique(q49_data$id))
q49_plot <- clean_single_select(q49_data)
r49 <- plot_single_select(q49_plot, q49_t, q49_n)
r49
row3 <- colnames(q49_plot)
q49_plot2 <- rbind(row3, q49_plot)
names(q49_plot2) <- c("q49", q49_t, paste("n = ", q49_n))
dir.create("output/q49_legalization_youth_effect")
ggsave(filename = 'output/q49_legalization_youth_effect/q49_legalization_youth_effect.png', plot = r49, device = 'png')
write.csv(q49_plot2, paste0("output/q49_legalization_youth_effect/q49_legalization_youth_effect_", q49_n,".csv"), row.names=F)
q50 <- "In.the.last.30.days..how.often.have.you.seen.or.heard.advertising.for.cannabis.products.or.stores.in.your.community..include.TV..radio..signs..billboards..newspapers..pamphlets..or.street.side.marketing.."
q50_t <- "In the last 30 days, how often have you seen or heard advertising for cannabis products or stores in your community, including TV, radio, signs, billboards, newspapers, pamphlets, or street side marketing?"
q50_data <- get_single_selection(data = raw_data_occp, q.name = q50)
q50_n <- length(unique(q50_data$id))
q50_plot <- clean_single_select(q50_data)
r50 <- plot_single_select(q50_plot, q50_t, q50_n)
r50
row3 <- colnames(q50_plot)
q50_plot2 <- rbind(row3, q50_plot)
names(q50_plot2) <- c("q50", q50_t, paste("n = ", q50_n))
dir.create("output/q50_advertising_last_30days")
ggsave(filename = 'output/q50_advertising_last_30days/q50_advertising_last_30days.png', plot = r50, device = 'png')
write.csv(q50_plot2, paste0("output/q50_advertising_last_30days/q50_advertising_last_30days_", q50_n,".csv"), row.names=F)
q51 <- "What.type.of.cannabis.advertising.have.you.been.exposed.to.in.theÂ.past.30.days...Please.check.all.that.apply."
q51_final_response <- "X.198"
q51_t  <- "What type of cannabis advertising have you been exposed to in the past 30 days? Please check all that apply."
q51_data <- get_choose_all(raw_data_occp, q.name = q51, f.response = q51_final_response) %>%
tidy_choose_all()
q51_n <- length(unique(q51_data$id))
q51_plot <- clean_choose_all(q51_data, q51_n)
r51 <- plot_choose_all(q51_plot, q51_t, q51_n)
r51
row3 <- colnames(q51_plot)
q51_plot2 <- rbind(row3, q51_plot)
names(q51_plot2) <- c("q51", q51_t, paste("n = ", q51_n))
dir.create("output/q51_advertising_type")
ggsave(filename = 'output/q51_advertising_type/q51_advertising_type.png', plot = r51, device = 'png')
write.csv(q51_plot2, paste0("output/q51_advertising_type/q51_advertising_type_", q51_n,".csv"), row.names=F)
write.csv(q51_data, 'output/q51_advertising_type/q51_advertising_type_ids.csv', row.names = FALSE)
q52 <- "What.questions.regarding.cannabis.did.we.not.ask.that.are.important.to.you."
q52_t <- "What questions regarding cannabis did we not ask that are important to you?"
q52_data <- get_single_selection(data = raw_data_occp, q.name = q52)
q52_n <- length(unique(q52_data$id))
q52_plot <- clean_single_select(q52_data)
r52 <- plot_single_select(q52_plot, q52_t, q52_n)
r52
row3 <- colnames(q52_plot)
q52_plot2 <- rbind(row3, q52_plot)
names(q52_plot2) <- c("q52", q52_t, paste("n = ", q52_n))
dir.create("output/q52_unasked_questions")
ggsave(filename = 'output/q52_unasked_questions/q52_unasked_questions.png', plot = r52, device = 'png')
write.csv(q52_plot2, paste0("output/q52_unasked_questions/q52_unasked_questions_", q52_n,".csv"), row.names=F)
q53 <- "How.long.have.you.been.using.cannabis.forÂ.recreational.purposes."
q53_t <- "How long have you been using cannabis for recreational purposes?"
q53_data <- get_single_selection(data = raw_data_occp, q.name = q53)
q53_n <- length(unique(q53_data$id))
q53_plot <- clean_single_select(q53_data)
r53 <- plot_single_select(q53_plot, q53_t, q53_n)
r53
row3 <- colnames(q53_plot)
q53_plot2 <- rbind(row3, q53_plot)
names(q53_plot2) <- c("q53", q53_t, paste("n = ", q53_n))
dir.create("output/q53_rec_cannabis_duration")
ggsave(filename = 'output/q53_rec_cannabis_duration/q53_rec_cannabis_duration.png', plot = r53, device = 'png')
write.csv(q53_plot2, paste0("output/q53_rec_cannabis_duration/q53_rec_cannabis_duration_", q53_n,".csv"), row.names=F)
q54 <- "How.long.have.you.been.using.cannabis.for.medical.purposes."
q54_t <- "How long have you been using cannabis for medical purposes?"
q54_data <- get_single_selection(data = raw_data_occp, q.name = q54)
q54_n <- length(unique(q54_data$id))
q54_plot <- clean_single_select(q54_data)
r54 <- plot_single_select(q54_plot, q54_t, q54_n)
r54
row3 <- colnames(q54_plot)
q54_plot2 <- rbind(row3, q54_plot)
names(q54_plot2) <- c("q54", q54_t, paste("n = ", q54_n))
dir.create("output/q54_med_cannabis_duration")
ggsave(filename = 'output/q54_med_cannabis_duration/q54_med_cannabis_duration.png', plot = r54, device = 'png')
write.csv(q54_plot2, paste0("output/q54_med_cannabis_duration/q54_med_cannabis_duration_", q54_n,".csv"), row.names=F)
q55 <- "What.is.your.age..in.years..Â."
q55_t <- "What is your age in years?"
q55_data <- get_single_selection_0(data = raw_data_occp, q.name = q55) %>%
filter(response != "")
q55_n <- length(unique(q55_data$id))
q55_mean_data <- as.numeric(as.character(q55_data$response))
q55_mean <- mean(q55_mean_data) %>%
round(3) %>%
print()
q55_plot <- clean_single_select(q55_data)
r55 <- plot_single_select_0(q55_plot, q55_t, q55_n, q55_mean)
r55
row3 <- colnames(q55_plot)
q55_plot2 <- rbind(row3, q55_plot)
names(q55_plot2) <- c("q55", q55_t, paste("n = ", q55_n, paste(" avg = ", q55_mean)))
dir.create("output/q55_age")
ggsave(filename = 'output/q55_age/q55_age.png', plot = r55, device = 'png')
write.csv(q55_plot2, paste0("output/q55_age/q55_age_", q55_n,".csv"), row.names=F)
write.csv(q55_data, 'output/q55_age/q55_age_ids.csv', row.names = FALSE)
q56 <- "To.which.gender.identity.do.you.most.identify."
q56_t <- "To which gender identity do you most identify?"
q56_data <- get_single_selection(data = raw_data_occp, q.name = q56)
q56_n <- length(unique(q56_data$id))
q56_plot <- clean_single_select(q56_data)
r56 <- plot_single_select(q56_plot, q56_t, q56_n)
r56
row3 <- colnames(q56_plot)
q56_plot2 <- rbind(row3, q56_plot)
names(q56_plot2) <- c("q56", q56_t, paste("n = ", q56_n))
dir.create("output/q56_gender_identity")
ggsave(filename = 'output/q56_gender_identity/q56_gender_identity.png', plot = r56, device = 'png')
write.csv(q56_plot2, paste0("output/q56_gender_identity/q56_gender_identity_", q56_n,".csv"), row.names=F)
q57 <- 'What.US.state.do.you.live.in.'
q57_final_response <- "X.207"
q57_t <- "What US state do you live in?"
q57_data <- get_choose_all(raw_data_occp, q.name = q57, f.response = q57_final_response)
q57 <- 'What.US.state.do.you.live.in.'
q57_final_response <- "X.206"
q57_t <- "What US state do you live in?"
q57_data <- get_choose_all(raw_data_occp, q.name = q57, f.response = q57_final_response)
# Chunk 184
q57 <- 'What.US.state.do.you.live.in.'
q57_final_response <- "X.207"
q57_t <- "What US state do you live in?"
q57_data <- get_choose_all(raw_data_occp, q.name = q57, f.response = q57_final_response)
dir.create("output/q57_state")
# Chunk 185
q57_data1 <- get_single_selection_3(q57_data, "State/Province") %>%
filter(response != "") %>%
clean_single_select()
q57_n1 <- tally(q57_data1, count)
q57_t1 <- "State"
q57_r1 <- plot_single_select(q57_data1, q57_t1, q57_n1)
q57_r1
# Chunk 186
ggsave(filename = "output/q57_state/q57_state.png", plot = q57_r1, device = 'png')
write.csv(q57_data1, paste0("output/q57_state/q57_state_", q57_n1, ".csv"), row.names = FALSE)
# Chunk 187
q58 <- 'What.country.do.you.live.in.Â.'
q58_final_response <- "X.216"
q58_t <- "What country do you live in?"
q58_data <- get_choose_all(raw_data_occp, q.name = q58, f.response = q58_final_response)
dir.create("output/q58_country")
# Chunk 188
q58_data1 <- get_single_selection_3(q58_data, "Country") %>%
filter(response != "") %>%
clean_single_select()
q58_n1 <- tally(q58_data1, count)
q58_t1 <- "Country"
q58_r1 <- plot_single_select(q58_data1, q58_t1, q58_n1)
q58_r1
# Chunk 189
ggsave(filename = "output/q58_country/q58_country.png", plot = q58_r1, device = 'png')
write.csv(q58_data1, paste0("output/q58_country/q58_country_", q58_n1, ".csv"), row.names = FALSE)
# Chunk 190
q59 <- "What.is.the.University.or.College.closest.to.where.you.live."
q59_t <- "What is the University or College closest to where you live?"
q59_data <- get_single_selection(data = raw_data_occp, q.name = q59)
q59_n <- length(unique(q59_data$id))
q59_plot <- clean_single_select(q59_data)
r59 <- plot_single_select(q59_plot, q59_t, q59_n)
r59
# Chunk 191
row3 <- colnames(q59_plot)
q59_plot2 <- rbind(row3, q59_plot)
names(q59_plot2) <- c("q59", q59_t, paste("n = ", q59_n))
# Chunk 192
dir.create("output/q59_nearest_college")
ggsave(filename = 'output/q59_nearest_college/q59_nearest_college.png', plot = r59, device = 'png')
write.csv(q59_plot2, paste0("output/q59_nearest_college/q59_nearest_college_", q59_n,".csv"), row.names=F)
# Chunk 193
q60 <- "What.is.your.annual.household.income.in....USD.."
q60_t <- "What is your annual household income in $ (USD)?"
q60_data <- get_single_selection_0(data = raw_data_occp, q.name = q60)
q60_n <- length(unique(q60_data$id))
q60_plot <- clean_single_select(q60_data)
r60 <- plot_single_select(q60_plot, q60_t, q60_n)
r60
# Chunk 194
row3 <- colnames(q60_plot)
q60_plot2 <- rbind(row3, q60_plot)
names(q60_plot2) <- c("q60", q60_t, paste("n = ", q60_n))
# Chunk 195
dir.create("output/q60_income")
ggsave(filename = 'output/q60_income/q60_income.png', plot = r60, device = 'png')
write.csv(q60_plot2, paste0("output/q60_income/q60_income_", q60_n,".csv"), row.names=F)
# Chunk 196
q61 <- "What.is.the.highest.degree.or.level.of.school.you.have.completed..If.you.are.currently.enrolled.in.school..please.indicate.the.highest.degree.you.have.received."
q61_t <- "What is the highest degree or level of school you have completed? If you are currently enrolled in school, please indicate the highest degree you have recieved."
q61_data <- get_single_selection(data = raw_data_occp, q.name = q61)
q61_n <- length(unique(q61_data$id))
q61_plot <- clean_single_select(q61_data)
r61 <- plot_single_select(q61_plot, q61_t, q61_n)
r61
# Chunk 197
row3 <- colnames(q61_plot)
q61_plot2 <- rbind(row3, q61_plot)
names(q61_plot2) <- c("q61", q61_t, paste("n = ", q61_n))
# Chunk 198
dir.create("output/q61_highest_degree")
ggsave(filename = 'output/q61_highest_degree/q61_highest_degree.png', plot = r61, device = 'png')
write.csv(q61_plot2, paste0("output/q61_highest_degree/q61_highest_degree_", q61_n,".csv"), row.names=F)
# Chunk 199
q62 <- "What.is.your.marital.status."
q62_t <- "What is your marital status?"
q62_data <- get_single_selection(data = raw_data_occp, q.name = q62)
q62_n <- length(unique(q62_data$id))
q62_plot <- clean_single_select(q62_data)
r62 <- plot_single_select(q62_plot, q62_t, q62_n)
r62
# Chunk 200
row3 <- colnames(q62_plot)
q62_plot2 <- rbind(row3, q62_plot)
names(q62_plot2) <- c("q62", q62_t, paste("n = ", q62_n))
# Chunk 201
dir.create("output/q62_marital_status")
ggsave(filename = 'output/q62_marital_status/q62_marital_status.png', plot = r62, device = 'png')
write.csv(q62_plot2, paste0("output/q62_marital_status/q62_marital_status_", q62_n,".csv"), row.names=F)
# Chunk 202
q63 <- "What.is.your.current.employment.status."
q63_t <- "What is your current employment status?"
q63_data <- get_single_selection(data = raw_data_occp, q.name = q63)
q63_n <- length(unique(q63_data$id))
q63_plot <- clean_single_select(q63_data)
r63 <- plot_single_select(q63_plot, q63_t, q63_n)
r63
# Chunk 203
row3 <- colnames(q63_plot)
q63_plot2 <- rbind(row3, q63_plot)
names(q63_plot2) <- c("q63", q63_t, paste("n = ", q63_n))
# Chunk 204
dir.create("output/q63_employment")
ggsave(filename = 'output/q63_employment/q63_employment.png', plot = r63, device = 'png')
write.csv(q63_plot2, paste0("output/q63_employment/q63_employment_", q63_n,".csv"), row.names=F)
# Chunk 205
q64 <- "Do.you.consider.yourself.to.be."
q64_t <- "Do you consider youself to be...? (Sexuality)"
q64_data <- get_single_selection(data = raw_data_occp, q.name = q64)
q64_n <- length(unique(q64_data$id))
q64_plot <- clean_single_select(q64_data)
r64 <- plot_single_select(q64_plot, q64_t, q64_n)
r64
# Chunk 206
row3 <- colnames(q64_plot)
q64_plot2 <- rbind(row3, q64_plot)
names(q64_plot2) <- c("q64", q64_t, paste("n = ", q64_n))
# Chunk 207
dir.create("output/q64_sexuality")
ggsave(filename = 'output/q64_sexuality/q64_sexuality.png', plot = r64, device = 'png')
write.csv(q64_plot2, paste0("output/q64_sexuality/q64_sexuality_", q64_n,".csv"), row.names=F)
# Chunk 208
q65 <- "Which.of.the.following.best.represents.your.ethnic.heritage."
q65_t <- "Which of the following best represents your ethnic heritage?"
q65_data <- get_single_selection(data = raw_data_occp, q.name = q65)
q65_n <- length(unique(q65_data$id))
q65_plot <- clean_single_select(q65_data)
r65 <- plot_single_select(q65_plot, q65_t, q65_n)
r65
# Chunk 209
row3 <- colnames(q65_plot)
q65_plot2 <- rbind(row3, q65_plot)
names(q65_plot2) <- c("q65", q65_t, paste("n = ", q65_n))
# Chunk 210
dir.create("output/q65_race")
ggsave(filename = 'output/q65_race/q65_race.png', plot = r65, device = 'png')
write.csv(q65_plot2, paste0("output/q65_race/q65_race_", q65_n,".csv"), row.names=F)
# Chunk 211
q66 <- "Would.you.be.willing.to.let.your.anonymous.responses.submitted.here.be.made.available.to.other.researchers.for.further.inquiry."
q66_t <- "Would you be willing to let your anonymous responses submitted here be made available to other researchers for further inquiry?"
q66_data <- get_single_selection(data = raw_data_occp, q.name = q66)
q66_n <- length(unique(q66_data$id))
q66_plot <- clean_single_select(q66_data)
r66 <- plot_single_select(q66_plot, q66_t, q66_n)
r66
# Chunk 212
row3 <- colnames(q66_plot)
q66_plot2 <- rbind(row3, q66_plot)
names(q66_plot2) <- c("q66", q66_t, paste("n = ", q66_n))
# Chunk 213
dir.create("output/q66_make_data_public")
ggsave(filename = 'output/q66_make_data_public/q66_make_data_public.png', plot = r66, device = 'png')
write.csv(q66_plot2, paste0("output/q66_make_data_public/q66_make_data_public_", q66_n,".csv"), row.names=F)
# Chunk 214
q67 <- "Would.you.like.to.receive.a.discount.at.a.local.Massachusetts.registered.medical.cannabis.dispensary.for.completing.this.survey."
q67_t <- "Would you like to recieve a discount at a local Massachusetts registered medical cannabis dispensary for completing this survey?"
q67_data <- get_single_selection(data = raw_data_occp, q.name = q67)
q67_n <- length(unique(q67_data$id))
q67_plot <- clean_single_select(q67_data)
r67 <- plot_single_select(q67_plot, q67_t, q67_n)
r67
# Chunk 215
row3 <- colnames(q67_plot)
q67_plot2 <- rbind(row3, q67_plot)
names(q67_plot2) <- c("q67", q67_t, paste("n = ", q67_n))
# Chunk 216
dir.create("output/q67_cannabis_discount")
ggsave(filename = 'output/q67_cannabis_discount/q67_cannabis_discount.png', plot = r67, device = 'png')
write.csv(q67_plot2, paste0("output/q67_cannabis_discount/q67_cannabis_discount_", q67_n,".csv"), row.names=F)
# Chunk 217
q68 <- "Which.Registered.Medical.Cannabis.Dispensary.in.Massachusetts.would.you.like.a.discount.to.for.future.purchases..Please.select.all.that.you.would.like."
q68_final_response <- "X.220"
q68_t  <- "Which Registered Medical Cannabis Dispensary in Massachusetts would you like a discount to for future purchases? Please select all that you would like."
q68_data <- get_choose_all(raw_data_occp, q.name = q68, f.response = q68_final_response) %>%
tidy_choose_all()
q68_n <- length(unique(q68_data$id))
q68_plot <- clean_choose_all(q68_data, q68_n)
r68 <- plot_choose_all(q68_plot, q68_t, q68_n)
r68
# Chunk 218
row3 <- colnames(q68_plot)
q68_plot2 <- rbind(row3, q68_plot)
names(q68_plot2) <- c("q68", q68_t, paste("n = ", q68_n))
# Chunk 219
dir.create("output/q68_preferred_dispensary")
ggsave(filename = 'output/q68_preferred_dispensary/q68_preferred_dispensary.png', plot = r68, device = 'png')
write.csv(q68_plot2, paste0("output/q68_preferred_dispensary/q68_preferred_dispensary_", q68_n,".csv"), row.names=F)
write.csv(q68_data, 'output/q68_preferred_dispensary/q68_preferred_dispensary_ids.csv', row.names = FALSE)
# Chunk 220
q70 <- "Do.you.want.share.your.email..no.other.information..to.receive.the.copy.of.the.study.results..join.a.list.serve.for.future.cannabis.research.studies..be.entered.in.a.lottery.for.a.Samsung.tablet..or.share.your.cannabis.patient.story.at.a.C3RN.event."
q70_t <- "Do you want share your email (no other information) to receive the copy of the study results/join a list serve for future cannabis research studies/be entered in a lottery for a Samsung tablet/ or share your cannabis patient story at a C3RN event?"
q70_data <- get_single_selection(data = raw_data_occp, q.name = q70)
q70_n <- length(unique(q70_data$id))
q70_plot <- clean_single_select(q70_data)
r70 <- plot_single_select(q70_plot, q70_t, q70_n)
r70
# Chunk 221
row3 <- colnames(q70_plot)
q70_plot2 <- rbind(row3, q70_plot)
names(q70_plot2) <- c("q70", q70_t, paste("n = ", q70_n))
# Chunk 222
dir.create("output/q70_list_serve")
ggsave(filename = 'output/q70_list_serve/q70_list_serve.png', plot = r70, device = 'png')
write.csv(q70_plot2, paste0("output/q70_list_serve/q70_list_serve_", q70_n,".csv"), row.names=F)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data_occp <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q8 <- "How.does.cannabis.help.your.daily.life...Please.select.all.that.apply."
q8_final_response <- "X.31"
q8_t <- "In general, to what extent has the use of cannabis positively impacted your quality of life?"
q8_data <- get_choose_all(raw_data_occp, q.name = q8, f.response = q8_final_response) %>%
tidy_choose_all()
q8_n <- length(unique(q8_data$id))
q8_plot <- clean_choose_all(q8_data, q8_n)
r8 <- plot_choose_all(q8_plot, q8_t, q8_n)
r8
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data_occp <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q8 <- "How.does.cannabis.help.your.daily.life...Please.select.all.that.apply."
q8_final_response <- "X.31"
q8_t <- "In general, to what extent has the use of cannabis positively impacted your quality of life?"
q8_data <- get_choose_all(raw_data_occp, q.name = q8, f.response = q8_final_response) %>%
tidy_choose_all()
q8_n <- length(unique(q8_data$id))
q8_plot <- clean_choose_all(q8_data, q8_n)
r8 <- plot_choose_all(q8_plot, q8_t, q8_n)
r8
View(raw_data_occp)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data_occp <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q8 <- "In.general..to.what.extent.has.the.use.of.cannabis.positively.impacted.your.quality.of.life."
q8_t <- "In general, to what extent has the use of cannabis positively impacted your quality of life?"
q8_data <- get_single_selection(data = raw_data_occp, q.name = q8)
q8_n <- length(unique(q8_data$id))
q8_plot <- clean_single_select(q8_data)
r8 <- plot_single_select(q8_plot, q8_t, q8_n)
r8
row3 <- colnames(q8_plot)
q8_plot2 <- rbind(row3, q8_plot)
names(q8_plot2) <- c("q8", q8_t, paste("n = ", q8_n))
dir.create("output/q8_cannabis_general")
ggsave(filename = 'output/q8_cannabis_general/q8_cannabis_general.png', plot = r8, device = 'png')
write.csv(q8_plot2, paste0("output/q8_cannabis_general/q8_cannabis_general_", q8_n,".csv"), row.names=F)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data_occp <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q8 <- "In.general..to.what.extent.has.the.use.of.cannabis.positively.impacted.your.quality.of.life."
q8_t <- "In general, to what extent has the use of cannabis positively impacted your quality of life?"
q8_data <- get_single_selection(data = raw_data_occp, q.name = q8)
q8_n <- length(unique(q8_data$id))
q8_plot <- clean_single_select(q8_data)
r8 <- plot_single_select(q8_plot, q8_t, q8_n)
r8
row3 <- colnames(q8_plot)
q8_plot2 <- rbind(row3, q8_plot)
names(q8_plot2) <- c("q8", q8_t, paste("n = ", q8_n))
dir.create("output/q8_cannabis_general")
ggsave(filename = 'output/q8_cannabis_general/q8_cannabis_general.png', plot = r8, device = 'png')
write.csv(q8_plot2, paste0("output/q8_cannabis_general/q8_cannabis_general_", q8_n,".csv"), row.names=F)
