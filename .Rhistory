q17_n4 <- tally(q17_data4, count)
q17_t4 <- "Feeling tired or having little energy"
q17_r4 <- plot_single_select(q17_data4, q17_t4, q17_n4)
q17_r4
ggsave(filename = "output/q17_depression/q17_fatigue.png", plot = q17_r4, device = 'png')
write.csv(q17_data4, paste0("output/q17_depression/q17_fatigue_", q17_n4, ".csv"), row.names = FALSE)
q17_data5 <- get_single_selection_3(q17_data, "Poor appetite or overeating") %>%
filter(response != "") %>%
clean_single_select()
q17_n5 <- tally(q17_data5, count)
q17_t5 <- "Poor appetite or overeating"
q17_r5 <- plot_single_select(q17_data5, q17_t5, q17_n5)
q17_r5
ggsave(filename = "output/q17_depression/q17_appetite.png", plot = q17_r5, device = 'png')
write.csv(q17_data5, paste0("output/q17_depression/q17_appetite_", q17_n5, ".csv"), row.names = FALSE)
q17_data6 <- get_single_selection_3(q17_data, "Feeling bad about yourself or that you are a failure or have let yourself or your family down") %>%
filter(response != "") %>%
clean_single_select()
q17_n6 <- tally(q17_data6, count)
q17_t6 <- "Feeling bad about yourself or that you are a failure or have let yourself or your family down"
q17_r6 <- plot_single_select(q17_data6, q17_t6, q17_n6)
q17_r6
ggsave(filename = "output/q17_depression/q17_failure.png", plot = q17_r6, device = 'png')
write.csv(q17_data6, paste0("output/q17_depression/q17_failure_", q17_n6, ".csv"), row.names = FALSE)
q17_data7 <- get_single_selection_3(q17_data, "Trouble concentrating on things such as reading the newspaper or watching television") %>%
filter(response != "") %>%
clean_single_select()
q17_n7 <- tally(q17_data7, count)
q17_t7 <- "Trouble concentrating on things such as reading the newspaper or watching television"
q17_r7 <- plot_single_select(q17_data7, q17_t7, q17_n7)
q17_r7
ggsave(filename = "output/q17_depression/q17_concentration.png", plot = q17_r7, device = 'png')
write.csv(q17_data7, paste0("output/q17_depression/q17_concentration_", q17_n7, ".csv"), row.names = FALSE)
q17_data8 <- get_single_selection_3(q17_data, "Moving or speaking so slowly that other people could have noticed, or the opposite: being so fidgety or restless that you have been moving around a lot more than usual") %>%
filter(response != "") %>%
clean_single_select()
q17_n8 <- tally(q17_data8, count)
q17_t8 <- "Moving or speaking so slowly that other people could have noticed, or the opposite: being so fidgety or restless that you have been moving around a lot more than usual"
q17_r8 <- plot_single_select(q17_data8, q17_t8, q17_n8)
q17_r8
ggsave(filename = "output/q17_depression/q17_movement.png", plot = q17_r8, device = 'png')
write.csv(q17_data8, paste0("output/q17_depression/q17_movement_", q17_n8, ".csv"), row.names = FALSE)
q17_data9 <- get_single_selection_3(q17_data, "Thoughts that you would be better off dead or of hurting yourself in some way") %>%
filter(response != "") %>%
clean_single_select()
q17_n9 <- tally(q17_data9, count)
q17_t9 <- "Thoughts that you would be better off dead or of hurting yourself in some way"
q17_r9 <- plot_single_select(q17_data9, q17_t9, q17_n9)
q17_r9
ggsave(filename = "output/q17_depression/q17_self_harm.png", plot = q17_r9, device = 'png')
write.csv(q17_data9, paste0("output/q17_depression/q17_self_harm_", q17_n9, ".csv"), row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q19 <- "Below.is.a.list.of.problems.and.complaints.that.veterans.sometimes.have.in.response.to.stressful.military.experiences..Please.read.each.one.carefully.and.indicate.how.much.you.have.beenÂ.ï..bothered.by.that.problem.in.the.last.month.ï.."
q19_final_response <- "X.115"
q19_t <- "PTSD Scales"
q19_data <- get_choose_all(raw_data, q.name = q19, f.response = q19_final_response)
dir.create("output/q19_ptsd")
write.csv(q19_data, 'output/q19_ptsd/q19_ptsd_scales_data.csv', row.names = FALSE)
q19_data1 <- get_single_selection_3(q19_data, "Repeated, disturbing memories, thoughts, or images of a stressful military experience?") %>%
filter(response != "") %>%
clean_single_select()
q19_n1 <- tally(q19_data1, count)
q19_t1 <- "Repeated, disturbing memories, thoughts, or images of a stressful military experience?"
q19_r1 <- plot_single_select(q19_data1, q19_t1, q19_n1)
q19_r1
ggsave(filename = "output/q19_ptsd/q19_flashback.png", plot = q19_r1, device = 'png')
write.csv(q19_data1, paste0("output/q19_ptsd/q19_flashback_", q19_n1, ".csv"), row.names = FALSE)
q19_data2 <- get_single_selection_3(q19_data, "Repeated, disturbing dreams of a stressful military experience?") %>%
filter(response != "") %>%
clean_single_select()
q19_n2 <- tally(q19_data2, count)
q19_t2 <- "Repeated, disturbing dreams of a stressful military experience?"
q19_r2 <- plot_single_select(q19_data2, q19_t2, q19_n2)
q19_r2
ggsave(filename = "output/q19_ptsd/q19_dreams.png", plot = q19_r2, device = 'png')
write.csv(q19_data2, paste0("output/q19_ptsd/q19_dreams_", q19_n2, ".csv"), row.names = FALSE)
q19_data3 <- get_single_selection_3(q19_data, "Suddenly acting or feeling as if a stressful military experience were happening again (as if you were reliving it)?") %>%
filter(response != "") %>%
clean_single_select()
q19_n3 <- tally(q19_data3, count)
q19_t3 <- "Suddenly acting or feeling as if a stressful military experience were happening again (as if you were reliving it)?"
q19_r3 <- plot_single_select(q19_data3, q19_t3, q19_n3)
q19_r3
ggsave(filename = "output/q19_ptsd/q19_reliving.png", plot = q19_r3, device = 'png')
write.csv(q19_data3, paste0("output/q19_ptsd/q19_reliving_", q19_n3, ".csv"), row.names = FALSE)
q19_data4 <- get_single_selection_3(q19_data, "Feeling very upset when something reminded you of a stressful military experience") %>%
filter(response != "") %>%
clean_single_select()
q19_n4 <- tally(q19_data4, count)
q19_t4 <- "Feeling very upset when something reminded you of a stressful military experience"
q19_r4 <- plot_single_select(q19_data4, q19_t4, q19_n4)
q19_r4
ggsave(filename = "output/q19_ptsd/q19_trigger.png", plot = q19_r4, device = 'png')
write.csv(q19_data4, paste0("output/q19_ptsd/q19_trigger_", q19_n4, ".csv"), row.names = FALSE)
q19_data5 <- get_single_selection_3(q19_data, "Having physical reactions (e.g., heart pounding, trouble breathing, or sweating) when something reminded you of a stressful military experience?") %>%
filter(response != "") %>%
clean_single_select()
q19_n5 <- tally(q19_data5, count)
q19_t5 <- "Having physical reactions (e.g., heart pounding, trouble breathing, or sweating) when something reminded you of a stressful military experience?"
q19_r5 <- plot_single_select(q19_data5, q19_t5, q19_n5)
q19_r5
ggsave(filename = "output/q19_ptsd/q19_physical.png", plot = q19_r5, device = 'png')
write.csv(q19_data5, paste0("output/q19_ptsd/q19_physical_", q19_n5, ".csv"), row.names = FALSE)
q19_data6 <- get_single_selection_3(q19_data, "Avoid thinking about or talking about a stressful military experience or avoid having feelings related to it?") %>%
filter(response != "") %>%
clean_single_select()
q19_n6 <- tally(q19_data6, count)
q19_t6 <- "Avoid thinking about or talking about a stressful military experience or avoid having feelings related to it?"
q19_r6 <- plot_single_select(q19_data6, q19_t6, q19_n6)
q19_r6
ggsave(filename = "output/q19_ptsd/q19_thinking.png", plot = q19_r6, device = 'png')
write.csv(q19_data6, paste0("output/q19_ptsd/q19_thinking_", q19_n6, ".csv"), row.names = FALSE)
q19_data7 <- get_single_selection_3(q19_data, "Avoid activities or talking about a stressful military experience or avoid having feelings related to it?") %>%
filter(response != "") %>%
clean_single_select()
q19_n7 <- tally(q19_data7, count)
q19_t7 <- "Avoid activities or talking about a stressful military experience or avoid having feelings related to it?"
q19_r7 <- plot_single_select(q19_data7, q19_t7, q19_n7)
q19_r7
ggsave(filename = "output/q19_ptsd/q19_activities.png", plot = q19_r7, device = 'png')
write.csv(q19_data7, paste0("output/q19_ptsd/q19_activities_", q19_n7, ".csv"), row.names = FALSE)
q19_data8 <- get_single_selection_3(q19_data, "Trouble remembering important parts of a stressful military experience?") %>%
filter(response != "") %>%
clean_single_select()
q19_n8 <- tally(q19_data8, count)
q19_t8 <- "Trouble remembering important parts of a stressful military experience?"
q19_r8 <- plot_single_select(q19_data8, q19_t8, q19_n8)
q19_r8
ggsave(filename = "output/q19_ptsd/q19_memory.png", plot = q19_r8, device = 'png')
write.csv(q19_data8, paste0("output/q19_ptsd/q19_memory_", q19_n8, ".csv"), row.names = FALSE)
q19_data9 <- get_single_selection_3(q19_data, "Loss on interest in things that you used to enjoy?") %>%
filter(response != "") %>%
clean_single_select()
q19_n9 <- tally(q19_data9, count)
q19_t9 <- "Loss on interest in things that you used to enjoy?"
q19_r9 <- plot_single_select(q19_data9, q19_t9, q19_n9)
q19_r9
ggsave(filename = "output/q19_ptsd/q19_interest.png", plot = q19_r9, device = 'png')
write.csv(q19_data9, paste0("output/q19_ptsd/q19_interest_", q19_n9, ".csv"), row.names = FALSE)
q19_data10 <- get_single_selection_3(q19_data, "Feeling distant or cut off from other people") %>%
filter(response != "") %>%
clean_single_select()
q19_n10 <- tally(q19_data10, count)
q19_t10 <- "Feeling distant or cut off from other people"
q19_r10 <- plot_single_select(q19_data10, q19_t10, q19_n10)
q19_r10
ggsave(filename = "output/q19_ptsd/q19_distant.png", plot = q19_r10, device = 'png')
write.csv(q19_data10, paste0("output/q19_ptsd/q19_distant_", q19_n10, ".csv"), row.names = FALSE)
q19_data11 <- get_single_selection_3(q19_data, "Feeling emotionally numb or being unable to have loving feelings for those close to you?") %>%
filter(response != "") %>%
clean_single_select()
q19_n11 <- tally(q19_data11, count)
q19_t11 <- "Feeling emotionally numb or being unable to have loving feelings for those close to you?"
q19_r11 <- plot_single_select(q19_data11, q19_t11, q19_n11)
q19_r11
ggsave(filename = "output/q19_ptsd/q19_numb.png", plot = q19_r11, device = 'png')
write.csv(q19_data11, paste0("output/q19_ptsd/q19_numb_", q19_n11, ".csv"), row.names = FALSE)
q19_data12 <- get_single_selection_3(q19_data, "Feeling as if your future will somehow be cut short?") %>%
filter(response != "") %>%
clean_single_select()
q19_n12 <- tally(q19_data12, count)
q19_t12 <- "Feeling as if your future will somehow be cut short?"
q19_r12 <- plot_single_select(q19_data12, q19_t12, q19_n12)
q19_r12
ggsave(filename = "output/q19_ptsd/q19_short_future.png", plot = q19_r12, device = 'png')
write.csv(q19_data12, paste0("output/q19_ptsd/q19_short_future_", q19_n12, ".csv"), row.names = FALSE)
q19_data13 <- get_single_selection_3(q19_data, "Trouble falling or staying asleep?") %>%
filter(response != "") %>%
clean_single_select()
q19_n13 <- tally(q19_data13, count)
q19_t13 <- "Trouble falling or staying asleep?"
q19_r13 <- plot_single_select(q19_data13, q19_t13, q19_n13)
q19_r13
ggsave(filename = "output/q19_ptsd/q19_sleep.png", plot = q19_r13, device = 'png')
write.csv(q19_data13, paste0("output/q19_ptsd/q19_sleep_", q19_n13, ".csv"), row.names = FALSE)
q19_data14 <- get_single_selection_3(q19_data, "Feeling irritable or having angry outbursts?") %>%
filter(response != "") %>%
clean_single_select()
q19_n14 <- tally(q19_data14, count)
q19_t14 <- "Feeling irritable or having angry outbursts?"
q19_r14 <- plot_single_select(q19_data14, q19_t14, q19_n14)
q19_r14
ggsave(filename = "output/q19_ptsd/q19_irritable.png", plot = q19_r14, device = 'png')
write.csv(q19_data14, paste0("output/q19_ptsd/q19_irritable_", q19_n14, ".csv"), row.names = FALSE)
q19_data15 <- get_single_selection_3(q19_data, "Having difficulty concentrating?") %>%
filter(response != "") %>%
clean_single_select()
q19_n15 <- tally(q19_data15, count)
q19_t15 <- "Having difficulty concentrating?"
q19_r15 <- plot_single_select(q19_data15, q19_t15, q19_n15)
q19_r15
ggsave(filename = "output/q19_ptsd/q19_concentration.png", plot = q19_r15, device = 'png')
write.csv(q19_data15, paste0("output/q19_ptsd/q19_concentration_", q19_n15, ".csv"), row.names = FALSE)
q19_data16 <- get_single_selection_3(q19_data, 'Being "super alert" or watchful on guard?') %>%
filter(response != "") %>%
clean_single_select()
q19_n16 <- tally(q19_data16, count)
q19_t16 <- 'Being "super alert" or watchful on guard?'
q19_r16 <- plot_single_select(q19_data16, q19_t16, q19_n16)
q19_r16
ggsave(filename = "output/q19_ptsd/q19_alert.png", plot = q19_r16, device = 'png')
write.csv(q19_data16, paste0("output/q19_ptsd/q19_alert_", q19_n16, ".csv"), row.names = FALSE)
q19_data17 <- get_single_selection_3(q19_data, 'Feeling jumpy or easily startled?') %>%
filter(response != "") %>%
clean_single_select()
q19_n17 <- tally(q19_data17, count)
q19_t17 <- 'Feeling jumpy or easily startled?'
q19_r17 <- plot_single_select(q19_data17, q19_t17, q19_n17)
q19_r17
ggsave(filename = "output/q19_ptsd/q19_jumpy.png", plot = q19_r17, device = 'png')
write.csv(q19_data17, paste0("output/q19_ptsd/q19_jumpy_", q19_n17, ".csv"), row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q43 <- 'How.do.you.feel.cannabis.has.helped.your.daily.life.Thinking.about.how.you.feelÂ.TODAYÂ.compared.to.theÂ.BEGINNINGÂ.of.your.use.of.cannabis.to.treat.your.primary.medical.condition...'
q43_final_response <- "X.204"
q43_t <- "How do you feel cannabis has helped your daily life?"
q43_data <- get_choose_all(raw_data, q.name = q43, f.response = q43_final_response)
dir.create("output/q43_qol")
write.csv(q43_data, 'output/q43_qol/q43_daily_qol_data.csv', row.names = FALSE)
q43_data1 <- get_single_selection_3(q43_data, "I experience a greater quality of life") %>%
filter(response != "N/A") %>%
filter(response != "") %>%
clean_single_select()
q43_n1 <- tally(q43_data1, count)
q43_t1 <- "I experience a greater quality of life"
q43_r1 <- plot_single_select(q43_data1, q43_t1, q43_n1)
q43_r1
ggsave(filename = "output/q43_qol/q43_greater_qol.png", plot = q43_r1, device = 'png')
write.csv(q43_data1, paste0("output/q43_qol/q43_greater_qol_", q43_n1, ".csv"), row.names = FALSE)
q43_data2 <- get_single_selection_3(q43_data, "I experience physical symptoms (body pains, function, sensation)") %>%
filter(response != "N/A") %>%
filter(response != "") %>%
clean_single_select()
q43_n2 <- tally(q43_data2, count)
q43_t2 <- "I experience physical symptoms (body pains, function, sensation)"
q43_r2 <- plot_single_select(q43_data2, q43_t2, q43_n2)
q43_r2
ggsave(filename = "output/q43_qol/q43_physical.png", plot = q43_r2, device = 'png')
write.csv(q43_data2, paste0("output/q43_qol/q43_physical_", q43_n2, ".csv"), row.names = FALSE)
q43_data3 <- get_single_selection_3(q43_data, "I experience psychological symptoms (anxiety, stress, sadness)") %>%
filter(response != "N/A") %>%
filter(response != "") %>%
clean_single_select()
q43_n3 <- tally(q43_data3, count)
q43_t3 <- "I experience psychological symptoms (anxiety, stress, sadness)"
q43_r3 <- plot_single_select(q43_data3, q43_t3, q43_n3)
q43_r3
ggsave(filename = "output/q43_qol/q43_psychological.png", plot = q43_r3, device = 'png')
write.csv(q43_data3, paste0("output/q43_qol/q43_psychological_", q43_n3, ".csv"), row.names = FALSE)
q43_data4 <- get_single_selection_3(q43_data, "I use opioids") %>%
filter(response != "N/A") %>%
filter(response != "") %>%
clean_single_select()
q43_n4 <- tally(q43_data4, count)
q43_t4 <- "I use opioids"
q43_r4 <- plot_single_select(q43_data4, q43_t4, q43_n4)
q43_r4
ggsave(filename = "output/q43_qol/q43_opioid_use.png", plot = q43_r4, device = 'png')
write.csv(q43_data4, paste0("output/q43_qol/q43_opioid_use_", q43_n4, ".csv"), row.names = FALSE)
q43_data5 <- get_single_selection_3(q43_data, "I use my prior medications (non-opioid)") %>%
filter(response != "N/A") %>%
filter(response != "") %>%
clean_single_select()
q43_n5 <- tally(q43_data5, count)
q43_t5 <- "I use my prior medications (non-opioid)"
q43_r5 <- plot_single_select(q43_data5, q43_t5, q43_n5)
q43_r5
ggsave(filename = "output/q43_qol/q43_prior_med_use.png", plot = q43_r5, device = 'png')
write.csv(q43_data5, paste0("output/q43_qol/q43_prior_med_use_", q43_n5, ".csv"), row.names = FALSE)
q43_data6 <- get_single_selection_3(q43_data, "I use alcohol") %>%
filter(response != "N/A") %>%
filter(response != "") %>%
clean_single_select()
q43_n6 <- tally(q43_data6, count)
q43_t6 <- "I use alcohol"
q43_r6 <- plot_single_select(q43_data6, q43_t6, q43_n6)
q43_r6
ggsave(filename = "output/q43_qol/q43_alcohol.png", plot = q43_r6, device = 'png')
write.csv(q43_data6, paste0("output/q43_qol/q43_alcohol_", q43_n6, ".csv"), row.names = FALSE)
q43_data7 <- get_single_selection_3(q43_data, "I use tobacco") %>%
filter(response != "N/A") %>%
filter(response != "") %>%
clean_single_select()
q43_n7 <- tally(q43_data7, count)
q43_t7 <- "I use tobacco"
q43_r7 <- plot_single_select(q43_data7, q43_t7, q43_n7)
q43_r7
ggsave(filename = "output/q43_qol/q43_tobacco.png", plot = q43_r7, device = 'png')
write.csv(q43_data7, paste0("output/q43_qol/q43_tobacco_", q43_n7, ".csv"), row.names = FALSE)
q43_data8 <- get_single_selection_3(q43_data, "I feel the quality of my daily life is") %>%
filter(response != "N/A") %>%
filter(response != "") %>%
clean_single_select()
q43_n8 <- tally(q43_data8, count)
q43_t8 <- "I feel the quality of my daily life is"
q43_r8 <- plot_single_select(q43_data8, q43_t8, q43_n8)
q43_r8
ggsave(filename = "output/q43_qol/q43_daily_qol.png", plot = q43_r8, device = 'png')
write.csv(q43_data8, paste0("output/q43_qol/q43_daily_qol_", q43_n8, ".csv"), row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q49 <- "Please.rate.the.importance.of.the.following.aspects.ofÂ.cannabis.products.to.you."
q49_final_response <- "X.267"
q49_t <- "Please rate the importance of the following aspects of cannabis products to you"
q49_data <- get_choose_all(raw_data, q.name = q49, f.response = q49_final_response)
dir.create("output/q49_cannabis_aspect_importance")
write.csv(q49_data, 'output/q49_cannabis_aspect_importance/q49_cannabis_aspect_importance_data.csv', row.names = FALSE)
q49_data1 <- get_single_selection_3(q49_data, "THC content - Importance") %>%
filter(response != "") %>%
clean_single_select()
q49_n1 <- tally(q49_data1, count)
q49_t1 <- "THC content"
q49_r1 <- plot_single_select(q49_data1, q49_t1, q49_n1)
q49_r1
ggsave(filename = "output/q49_cannabis_aspect_importance/q49_thc.png", plot = q49_r1, device = 'png')
write.csv(q49_data1, paste0("output/q49_cannabis_aspect_importance/q49_thc_", q49_n1, ".csv"), row.names = FALSE)
q49_data2 <- get_single_selection_3(q49_data, "CBD content - Importance") %>%
filter(response != "") %>%
clean_single_select()
q49_n2 <- tally(q49_data2, count)
q49_t2 <- "CBD content - Importance"
q49_r2 <- plot_single_select(q49_data2, q49_t2, q49_n2)
q49_r2
ggsave(filename = "output/q49_cannabis_aspect_importance/q49_cbd.png", plot = q49_r2, device = 'png')
write.csv(q49_data2, paste0("output/q49_cannabis_aspect_importance/q49_cbd_", q49_n2, ".csv"), row.names = FALSE)
q49_data3 <- get_single_selection_3(q49_data, "Other cannabinoids and terpenes - Importance") %>%
filter(response != "") %>%
clean_single_select()
q49_n3 <- tally(q49_data3, count)
q49_t3 <- "Other cannabinoids and terpenes"
q49_r3 <- plot_single_select(q49_data3, q49_t3, q49_n3)
q49_r3
ggsave(filename = "output/q49_cannabis_aspect_importance/q49_other_cbd.png", plot = q49_r3, device = 'png')
write.csv(q49_data3, paste0("output/q49_cannabis_aspect_importance/q49_other_cbd_", q49_n3, ".csv"), row.names = FALSE)
q49_data4 <- get_single_selection_3(q49_data, "Cost/price - Importance") %>%
filter(response != "") %>%
clean_single_select()
q49_n4 <- tally(q49_data4, count)
q49_t4 <- "Cost/price - Importance"
q49_r4 <- plot_single_select(q49_data4, q49_t4, q49_n4)
q49_r4
ggsave(filename = "output/q49_cannabis_aspect_importance/q49_cost.png", plot = q49_r4, device = 'png')
write.csv(q49_data4, paste0("output/q49_cannabis_aspect_importance/q49_cost_", q49_n4, ".csv"), row.names = FALSE)
q49_data5 <- get_single_selection_3(q49_data, "Quality - Importance") %>%
filter(response != "") %>%
clean_single_select()
q49_n5 <- tally(q49_data5, count)
q49_t5 <- "Quality - Importance"
q49_r5 <- plot_single_select(q49_data5, q49_t5, q49_n5)
q49_r5
ggsave(filename = "output/q49_cannabis_aspect_importance/q49_quality.png", plot = q49_r5, device = 'png')
write.csv(q49_data5, paste0("output/q49_cannabis_aspect_importance/q49_quality_", q49_n5, ".csv"), row.names = FALSE)
q49_data6 <- get_single_selection_3(q49_data, "Product type (flower, vape cartridge, edibles, etc.) - Importance") %>%
filter(response != "") %>%
clean_single_select()
q49_n6 <- tally(q49_data6, count)
q49_t6 <- "Product type (flower, vape cartridge, edibles, etc.) - Importance"
q49_r6 <- plot_single_select(q49_data6, q49_t6, q49_n6)
q49_r6
ggsave(filename = "output/q49_cannabis_aspect_importance/q49_product_type.png", plot = q49_r6, device = 'png')
write.csv(q49_data6, paste0("output/q49_cannabis_aspect_importance/q49_product_type_", q49_n6, ".csv"), row.names = FALSE)
q49_data7 <- get_single_selection_3(q49_data, "Favorite strain - Importance") %>%
filter(response != "") %>%
clean_single_select()
q49_n7 <- tally(q49_data7, count)
q49_t7 <- "Favorite strain - Importance"
q49_r7 <- plot_single_select(q49_data7, q49_t7, q49_n7)
q49_r7
ggsave(filename = "output/q49_cannabis_aspect_importance/q49_favorite_strain.png", plot = q49_r7, device = 'png')
write.csv(q49_data7, paste0("output/q49_cannabis_aspect_importance/q49_favorite_strain_", q49_n7, ".csv"), row.names = FALSE)
q49_data8 <- get_single_selection_3(q49_data, "Other - Importance") %>%
filter(response != "") %>%
clean_single_select()
q49_n8 <- tally(q49_data8, count)
q49_t8 <- "Other - Importance"
q49_r8 <- plot_single_select(q49_data8, q49_t8, q49_n8)
q49_r8
ggsave(filename = "output/q49_cannabis_aspect_importance/q49_other.png", plot = q49_r8, device = 'png')
write.csv(q49_data8, paste0("output/q49_cannabis_aspect_importance/q49_other_", q49_n8, ".csv"), row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q62 <- 'How.much.cannabis.flower.are.you.smoking.or.vaping.per.week...i.e..grams..ounces..etc..'
q62_final_response <- "X.283"
q62_t <- "How much cannabis flower are you smoking or vaping per week (ie. grams, ounces, etc)?"
q62_data <- get_choose_all(raw_data, q.name = q62, f.response = q62_final_response)
dir.create("output/q62_smoke_vape_wkly")
write.csv(q62_data, 'output/q62_smoke_vape_wkly/q62_smoke_vape_wkly_data.csv', row.names = FALSE)
q62_data1 <- get_single_selection_3(q62_data, "Smoke flower") %>%
filter(response != "") %>%
clean_single_select()
q62_n1 <- tally(q62_data1, count)
q62_t1 <- "Flower weekly"
q62_r1 <- plot_single_select(q62_data1, q62_t1, q62_n1)
q62_r1
ggsave(filename = "output/q62_smoke_vape_wkly/smoke_flower.png", plot = q62_r1, device = 'png')
write.csv(q62_data1, paste0("output/q62_smoke_vape_wkly/smoke_flower_", q62_n1, ".csv"), row.names = FALSE)
q62_data2 <- get_single_selection_3(q62_data, "Vape flower") %>%
filter(response != "") %>%
clean_single_select()
q62_n2 <- tally(q62_data2, count)
q62_t2 <- "Vape weekly"
q62_r2 <- plot_single_select(q62_data2, q62_t2, q62_n2)
q62_r2
ggsave(filename = "output/q62_smoke_vape_wkly/vape_flower.png", plot = q62_r2, device = 'png')
write.csv(q62_data2, paste0("output/q62_smoke_vape_wkly/vape_flower_", q62_n2, ".csv"), row.names = FALSE)
q62_data3 <- get_single_selection_3(q62_data, "Concentrates (e.g. rosin, shatter, wax, hash, kief)") %>%
filter(response != "") %>%
clean_single_select()
q62_n3 <- tally(q62_data3, count)
q62_t3 <- "Concentrates weekly"
q62_r3 <- plot_single_select(q62_data3, q62_t3, q62_n3)
q62_r3
ggsave(filename = "output/q62_smoke_vape_wkly/concentrates.png", plot = q62_r3, device = 'png')
write.csv(q62_data3, paste0("output/q62_smoke_vape_wkly/concentrates_", q62_n3, ".csv"), row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q63 <- 'How.many.milligrams.of.cannabis.do.you.use.per.week.'
q63_final_response <- "X.297"
q63_t <- "How many milligrams of cannabis do you use per week?"
q63_data <- get_choose_all(raw_data, q.name = q63, f.response = q63_final_response)
dir.create("output/q63_mg_edibles_etc")
write.csv(q63_data, 'output/q63_mg_edibles_etc/q63_mg_edibles_etc_data.csv', row.names = FALSE)
q63_data1 <- get_single_selection_3(q63_data, "Edibles (e.g. gummies, chocolate, lozenges, beverages, cooking oils, etc.)") %>%
filter(response != "") %>%
clean_single_select()
q63_n1 <- tally(q63_data1, count)
q63_t1 <- "Edibles (e.g. gummies, chocolate, lozenges, beverages, cooking oils, etc.)"
q63_r1 <- plot_single_select(q63_data1, q63_t1, q63_n1)
q63_r1
ggsave(filename = "output/q63_mg_edibles_etc/q63_edibles.png", plot = q63_r1, device = 'png')
write.csv(q63_data1, paste0("output/q63_mg_edibles_etc/q63_edibles_", q63_n1, ".csv"), row.names = FALSE)
q63_data2 <- get_single_selection_3(q63_data, "Transdermal patches") %>%
filter(response != "") %>%
clean_single_select()
q63_n2 <- tally(q63_data2, count)
q63_t2 <- "Transdermal patches"
q63_r2 <- plot_single_select(q63_data2, q63_t2, q63_n2)
q63_r2
ggsave(filename = "output/q63_mg_edibles_etc/q63_patches.png", plot = q63_r2, device = 'png')
write.csv(q63_data2, paste0("output/q63_mg_edibles_etc/q63_patches_", q63_n2, ".csv"), row.names = FALSE)
q63_data3 <- get_single_selection_3(q63_data, "Suppositories") %>%
filter(response != "") %>%
clean_single_select()
q63_n3 <- tally(q63_data3, count)
q63_t3 <- "Suppositories"
q63_r3 <- plot_single_select(q63_data3, q63_t3, q63_n3)
q63_r3
ggsave(filename = "output/q63_mg_edibles_etc/q63_suppositories.png", plot = q63_r3, device = 'png')
write.csv(q63_data3, paste0("output/q63_mg_edibles_etc/q63_suppositories_", q63_n3, ".csv"), row.names = FALSE)
q63_data4 <- get_single_selection_3(q63_data, "Capsules") %>%
filter(response != "") %>%
clean_single_select()
q63_n4 <- tally(q63_data4, count)
q63_t4 <- "Capsules"
q63_r4 <- plot_single_select(q63_data4, q63_t4, q63_n4)
q63_r4
ggsave(filename = "output/q63_mg_edibles_etc/q63_capsules.png", plot = q63_r4, device = 'png')
write.csv(q63_data4, paste0("output/q63_mg_edibles_etc/q63_capsules_", q63_n4, ".csv"), row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q64 <- 'In.an.average.week..how.often.do.you.use.salves.topicals..e.g..creams..lotions..sprays..etc...'
q64_final_response <- "X.303"
q64_t <- "In an average week, how often do you use salves/topicals (e.g. creams, lotions, sprays, etc.)"
q64_data <- get_choose_all(raw_data, q.name = q64, f.response = q64_final_response)
dir.create("output/q64_salves_topicals_wkly")
q64_data1 <- get_single_selection_3(q64_data, "Salves/topicals") %>%
filter(response != "") %>%
clean_single_select()
q64_n1 <- tally(q64_data1, count)
q64_t1 <- "Salves/topicals"
q64_r1 <- plot_single_select(q64_data1, q64_t1, q64_n1)
q64_r1
ggsave(filename = "output/q64_salves_topicals_wkly/q64_salves_topicals_wkly.png", plot = q64_r1, device = 'png')
write.csv(q64_data1, paste0("output/q64_salves_topicals_wkly/q64_salves_topicals_wkly_", q64_n1, ".csv"), row.names = FALSE)
library(tidyverse)
library(ggplot2)
library(stringr)
source("helper.R")
raw_data <- read.csv("data/master.csv", stringsAsFactors = FALSE)
q65 <- 'How.many.milliliters..mL..of.tincture.are.you.using.per.week..Note..30mL...1oz'
q65_final_response <- "X.311"
q65_t <- "q65 'How many milliliters (mL) of tincture are you using per week? Note (30mL) = 1oz"
q65_data <- get_choose_all(raw_data, q.name = q65, f.response = q65_final_response)
dir.create("output/q65_tinctures_wkly")
q65_data1 <- get_single_selection_3(q65_data, "Tinctures") %>%
filter(response != "") %>%
clean_single_select()
q65_n1 <- tally(q65_data1, count)
q65_t1 <- "Tinctures"
r1 <- plot_single_select(q65_data1, q65_t1, q65_n1)
r1
ggsave(filename = "output/q65_tinctures_wkly/q65_tinctures_wkly.png", plot = r1, device = 'png')
write.csv(q65_data1, paste0("output/q65_tinctures_wkly/q65_tinctures_wkly_", q65_n1, ".csv"), row.names = FALSE)
